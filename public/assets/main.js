!function(e){function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};return n.m=e,n.c=t,n.p="assets/",n(0)}([function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(1);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** multi main\n ** module id = 0\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///multi_main?")},function(module,exports,__webpack_require__){eval("/*\n** This file is the entry into the app\n** List all different components needed here\n** \n*/\n\n// import '../lib/mixins/eh-mixin.js';\n// import '../lib/mixins/riot-creator-mixin.js';\n\n'use strict';\n\n__webpack_require__(2);\n__webpack_require__(6);\n// var footerTag = require('../views/footerTag.html);\n// create a component - one folder (with a defined set of files) one `identifier`\n// create dictionary entries for component in src/global/dictionary file identified by `identifier`\n// create a build.properties file which contains\n//\n// 		-> path for all stores needed\n// 		-> path for all views needed\n// 		-> path for all components needed\n// 		-> path for all styles needed\n//\n// build triggered with that build.properties file will\n// 	--	generate a folder with perfect folder structure for all things needed and nothing else\n//\n// all things needed mean -\n// 		-> stores\n// 		-> view files\n// 		-> components\n// 		-> dictionary\n// 		-> styles\n// 		-> index.js (adjusted & generated)\n\n/*****************\n ** WEBPACK FOOTER\n ** ./config/main.js\n ** module id = 1\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./config/main.js?")},function(module,exports,__webpack_require__){eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(3);\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(5)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n	// When the styles change, update the <style> tags\n	if(!content.locals) {\n		module.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js!./chat.css\", function() {\n			var newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js!./chat.css\");\n			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n			update(newContent);\n		});\n	}\n	// When the module is disposed, remove the <style> tags\n	module.hot.dispose(function() { update(); });\n}\n\n/*****************\n ** WEBPACK FOOTER\n ** ./styles/chat.css\n ** module id = 2\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./styles/chat.css?")},function(module,exports,__webpack_require__){eval("exports = module.exports = __webpack_require__(4)();\n// imports\n\n\n// module\nexports.push([module.id, \"*{font-family:Georgia}.activeLi{background-color:'cyan';font-style:italic}a{color:#000;text-decoration:none}a:hover{text-decoration:underline}*,:after,:before{font-family:Georgia}div.bordered{margin:0 auto;margin-top:100px;width:600px;padding:20px;text-align:center;border:10px solid #ddd;-webkit-border-radius:20px}#error{background-color:#ba0000;color:#fff;font-weight:700}#ask,#ask input{font-size:20pt}#ask input{padding:10px;margin:0 10px}#ask span.join{padding:10px;background-color:#ddd;-webkit-border-radius:10px}#channel{margin-top:100px;height:500px;position:relative}#channel div#descr{position:absolute;left:-10px;top:-190px;font-size:13px;text-align:left;line-height:20px;padding:5px;width:630px}div#msgs{overflow-y:scroll;height:400px}div#msgs ul{list-style:none;padding:0;margin:0;text-align:left}div#msgs li{line-height:20px}div#msgs li span.user{color:#f90}div#msgs li span.user.self{color:#a21}div#msgs li span.time{float:right;margin-right:5px;color:#aaa;font-family:Courier New;font-size:12px}div#msgs li.control{text-align:center}div#msgs li.control span.message{color:#aaa}div#input{text-align:left;margin-top:20px}div#input #message{width:600px;border:5px solid #bbb;-webkit-border-radius:3px;font-size:30pt}body{background:#c5ddeb;font:14px/20px Lato,Arial,sans-serif;color:#9e9e9e;line-height:1}.container{margin:0 auto;border-radius:5px}.people-list{margin:2%;background:#444753;width:20%;float:left;position:fixed}.people-list .search{padding:20px}.people-list input{border-radius:3px;border:none;padding:14px;color:#fff;background:#6a6c75;font-size:14px}.people-list .fa-search{position:relative;left:-25px}.people-list ul{padding:3%}.people-list ul li{padding-bottom:20px}.people-list img{float:left}.people-list .about{float:left;margin-top:8px;padding-left:8px}.people-list .status{color:#92959e}.chat{height:65%;min-height:90%}.chat .chat-header{padding:20px;border-bottom:2px solid #fff}.chat .chat-header img{float:left}.chat .chat-header .chat-about{float:left;padding-left:10px;margin-top:6px}.chat .chat-header .chat-with{font-weight:700;font-size:16px}.chat .chat-header .chat-num-messages{color:#92959e}.chat .chat-header .fa-star{float:right;color:#d8dadf;font-size:20px;margin-top:12px;height:100%}.chat .chat-history{width:90%;height:100%;padding:10px 0 0;border-bottom:2px solid #fff;overflow-y:scroll;margin-left:5%;overflow-x:hidden}.chat .chat-history .message-data{margin-top:25%}.chat .chat-history .message-data-time{color:#a8aab1;padding-left:6px}.chat .chat-history .message{color:#fff;padding:18px 20px;line-height:26px;font-size:16px;margin-bottom:30px;width:90%;position:relative}.chat .chat-history .message:after{bottom:100%;left:7%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none;border-bottom-color:#86bb71;border-width:10px;margin-left:-10px}.chat .chat-history .my-message{background:#94c2ed;width:75%;float:left;margin-top:2%;border-top-right-radius:25px;border-bottom-right-radius:25px;border-bottom-left-radius:25px;border-top-left-radius:0}*,:after,:before{box-sizing:border-box}.old-message{background:'gray'}.chat .chat-history .other-message{background:#86bb71;width:75%;float:right;margin-top:2%;border-top-left-radius:25px;border-bottom-left-radius:25px;border-bottom-right-radius:25px;border-top-right-radius:0}.chat .chat-history .other-message:after{border-bottom-color:#94c2ed;left:98%}.chat .chat-message{margin-top:12%}.chat .chat-message textarea{width:100%;border:none;padding:10px 20px;font:14px/22px Lato,Arial,sans-serif;margin-bottom:10px;border-radius:5px;resize:none}.chat .chat-message .fa-file-image-o,.chat .chat-message .fa-file-o{font-size:16px;color:gray;cursor:pointer}.chat .chat-message button{float:right;color:#94c2ed;font-size:16px;text-transform:uppercase;border:none;cursor:pointer;font-weight:700;background:#f2f5f8}.chat .chat-message button:hover{color:#75b1e8}.me,.offline,.online{margin-right:3px;font-size:10px}.online{color:#86bb71}.offline{color:#e38968}.me{color:#94c2ed}.align-left{text-align:left}.align-right{text-align:right}.float-right{float:right}.clearfix:after{visibility:hidden;display:block;font-size:0;content:\\\" \\\";clear:both;height:0}body{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}main{-webkit-box-flex:1;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}nav{background-color:#fff}nav a{color:'#000'}footer{background-color:#fff}footer a{color:'#000'}footer.page-footer{background-color:#fff}footer div.row .page-footer a{color:red}.footer-copyright{background-color:#fff}\", \"\"]);\n\n// exports\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/postcss-loader!./styles/chat.css\n ** module id = 3\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./styles/chat.css?../~/css-loader!../~/postcss-loader")},function(module,exports){eval('/*\r\n	MIT License http://www.opensource.org/licenses/mit-license.php\r\n	Author Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n	var list = [];\r\n\r\n	// return the list of modules as css string\r\n	list.toString = function toString() {\r\n		var result = [];\r\n		for(var i = 0; i < this.length; i++) {\r\n			var item = this[i];\r\n			if(item[2]) {\r\n				result.push("@media " + item[2] + "{" + item[1] + "}");\r\n			} else {\r\n				result.push(item[1]);\r\n			}\r\n		}\r\n		return result.join("");\r\n	};\r\n\r\n	// import a list of modules into the list\r\n	list.i = function(modules, mediaQuery) {\r\n		if(typeof modules === "string")\r\n			modules = [[null, modules, ""]];\r\n		var alreadyImportedModules = {};\r\n		for(var i = 0; i < this.length; i++) {\r\n			var id = this[i][0];\r\n			if(typeof id === "number")\r\n				alreadyImportedModules[id] = true;\r\n		}\r\n		for(i = 0; i < modules.length; i++) {\r\n			var item = modules[i];\r\n			// skip already imported module\r\n			// this implementation is not 100% perfect for weird media query combinations\r\n			//  when a module is imported multiple times with different media queries.\r\n			//  I hope this will never occur (Hey this way we have smaller bundles)\r\n			if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\r\n				if(mediaQuery && !item[2]) {\r\n					item[2] = mediaQuery;\r\n				} else if(mediaQuery) {\r\n					item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\r\n				}\r\n				list.push(item);\r\n			}\r\n		}\r\n	};\r\n	return list;\r\n};\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader/lib/css-base.js\n ** module id = 4\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///../~/css-loader/lib/css-base.js?')},function(module,exports,__webpack_require__){eval('/*\r\n	MIT License http://www.opensource.org/licenses/mit-license.php\r\n	Author Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n	memoize = function(fn) {\r\n		var memo;\r\n		return function () {\r\n			if (typeof memo === "undefined") memo = fn.apply(this, arguments);\r\n			return memo;\r\n		};\r\n	},\r\n	isOldIE = memoize(function() {\r\n		return /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n	}),\r\n	getHeadElement = memoize(function () {\r\n		return document.head || document.getElementsByTagName("head")[0];\r\n	}),\r\n	singletonElement = null,\r\n	singletonCounter = 0,\r\n	styleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n	if(false) {\r\n		if(typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\r\n	}\r\n\r\n	options = options || {};\r\n	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n	// tags it will allow on a page\r\n	if (typeof options.singleton === "undefined") options.singleton = isOldIE();\r\n\r\n	// By default, add <style> tags to the bottom of <head>.\r\n	if (typeof options.insertAt === "undefined") options.insertAt = "bottom";\r\n\r\n	var styles = listToStyles(list);\r\n	addStylesToDom(styles, options);\r\n\r\n	return function update(newList) {\r\n		var mayRemove = [];\r\n		for(var i = 0; i < styles.length; i++) {\r\n			var item = styles[i];\r\n			var domStyle = stylesInDom[item.id];\r\n			domStyle.refs--;\r\n			mayRemove.push(domStyle);\r\n		}\r\n		if(newList) {\r\n			var newStyles = listToStyles(newList);\r\n			addStylesToDom(newStyles, options);\r\n		}\r\n		for(var i = 0; i < mayRemove.length; i++) {\r\n			var domStyle = mayRemove[i];\r\n			if(domStyle.refs === 0) {\r\n				for(var j = 0; j < domStyle.parts.length; j++)\r\n					domStyle.parts[j]();\r\n				delete stylesInDom[domStyle.id];\r\n			}\r\n		}\r\n	};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n	for(var i = 0; i < styles.length; i++) {\r\n		var item = styles[i];\r\n		var domStyle = stylesInDom[item.id];\r\n		if(domStyle) {\r\n			domStyle.refs++;\r\n			for(var j = 0; j < domStyle.parts.length; j++) {\r\n				domStyle.parts[j](item.parts[j]);\r\n			}\r\n			for(; j < item.parts.length; j++) {\r\n				domStyle.parts.push(addStyle(item.parts[j], options));\r\n			}\r\n		} else {\r\n			var parts = [];\r\n			for(var j = 0; j < item.parts.length; j++) {\r\n				parts.push(addStyle(item.parts[j], options));\r\n			}\r\n			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n		}\r\n	}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n	var styles = [];\r\n	var newStyles = {};\r\n	for(var i = 0; i < list.length; i++) {\r\n		var item = list[i];\r\n		var id = item[0];\r\n		var css = item[1];\r\n		var media = item[2];\r\n		var sourceMap = item[3];\r\n		var part = {css: css, media: media, sourceMap: sourceMap};\r\n		if(!newStyles[id])\r\n			styles.push(newStyles[id] = {id: id, parts: [part]});\r\n		else\r\n			newStyles[id].parts.push(part);\r\n	}\r\n	return styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n	var head = getHeadElement();\r\n	var lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n	if (options.insertAt === "top") {\r\n		if(!lastStyleElementInsertedAtTop) {\r\n			head.insertBefore(styleElement, head.firstChild);\r\n		} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n			head.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n		} else {\r\n			head.appendChild(styleElement);\r\n		}\r\n		styleElementsInsertedAtTop.push(styleElement);\r\n	} else if (options.insertAt === "bottom") {\r\n		head.appendChild(styleElement);\r\n	} else {\r\n		throw new Error("Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.");\r\n	}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n	styleElement.parentNode.removeChild(styleElement);\r\n	var idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n	if(idx >= 0) {\r\n		styleElementsInsertedAtTop.splice(idx, 1);\r\n	}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n	var styleElement = document.createElement("style");\r\n	styleElement.type = "text/css";\r\n	insertStyleElement(options, styleElement);\r\n	return styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n	var linkElement = document.createElement("link");\r\n	linkElement.rel = "stylesheet";\r\n	insertStyleElement(options, linkElement);\r\n	return linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n	var styleElement, update, remove;\r\n\r\n	if (options.singleton) {\r\n		var styleIndex = singletonCounter++;\r\n		styleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n		update = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n		remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n	} else if(obj.sourceMap &&\r\n		typeof URL === "function" &&\r\n		typeof URL.createObjectURL === "function" &&\r\n		typeof URL.revokeObjectURL === "function" &&\r\n		typeof Blob === "function" &&\r\n		typeof btoa === "function") {\r\n		styleElement = createLinkElement(options);\r\n		update = updateLink.bind(null, styleElement);\r\n		remove = function() {\r\n			removeStyleElement(styleElement);\r\n			if(styleElement.href)\r\n				URL.revokeObjectURL(styleElement.href);\r\n		};\r\n	} else {\r\n		styleElement = createStyleElement(options);\r\n		update = applyToTag.bind(null, styleElement);\r\n		remove = function() {\r\n			removeStyleElement(styleElement);\r\n		};\r\n	}\r\n\r\n	update(obj);\r\n\r\n	return function updateStyle(newObj) {\r\n		if(newObj) {\r\n			if(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n				return;\r\n			update(obj = newObj);\r\n		} else {\r\n			remove();\r\n		}\r\n	};\r\n}\r\n\r\nvar replaceText = (function () {\r\n	var textStore = [];\r\n\r\n	return function (index, replacement) {\r\n		textStore[index] = replacement;\r\n		return textStore.filter(Boolean).join(\'\\n\');\r\n	};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n	var css = remove ? "" : obj.css;\r\n\r\n	if (styleElement.styleSheet) {\r\n		styleElement.styleSheet.cssText = replaceText(index, css);\r\n	} else {\r\n		var cssNode = document.createTextNode(css);\r\n		var childNodes = styleElement.childNodes;\r\n		if (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n		if (childNodes.length) {\r\n			styleElement.insertBefore(cssNode, childNodes[index]);\r\n		} else {\r\n			styleElement.appendChild(cssNode);\r\n		}\r\n	}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n	var css = obj.css;\r\n	var media = obj.media;\r\n\r\n	if(media) {\r\n		styleElement.setAttribute("media", media)\r\n	}\r\n\r\n	if(styleElement.styleSheet) {\r\n		styleElement.styleSheet.cssText = css;\r\n	} else {\r\n		while(styleElement.firstChild) {\r\n			styleElement.removeChild(styleElement.firstChild);\r\n		}\r\n		styleElement.appendChild(document.createTextNode(css));\r\n	}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n	var css = obj.css;\r\n	var sourceMap = obj.sourceMap;\r\n\r\n	if(sourceMap) {\r\n		// http://stackoverflow.com/a/26603875\r\n		css += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\r\n	}\r\n\r\n	var blob = new Blob([css], { type: "text/css" });\r\n\r\n	var oldSrc = linkElement.href;\r\n\r\n	linkElement.href = URL.createObjectURL(blob);\r\n\r\n	if(oldSrc)\r\n		URL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/style-loader/addStyles.js\n ** module id = 5\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///../~/style-loader/addStyles.js?')},function(module,exports,__webpack_require__){eval("'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _riotRouter = __webpack_require__(9);\n\nvar _riotRouter2 = _interopRequireDefault(_riotRouter);\n\n// TODO :: FIND A WAY TO READ ALL TAG FILES AND IMPORT FROM AN ENV VAR THAT SAYS FOLDER NAME\n// const footertag = require('../views/'+ projectName +'/footertag.html')\n// const headertag = require('../views/'+ projectName +'/headertag.html')\n\nvar _libRiotControl = __webpack_require__(10);\n\nvar _libRiotControl2 = _interopRequireDefault(_libRiotControl);\n\nvar _stateManagerAppStore = __webpack_require__(11);\n\nvar _stateManagerAppStore2 = _interopRequireDefault(_stateManagerAppStore);\n\n'use strict;';\n\nvar projectName = location.pathname.slice(1) || 'home';\nconsole.log(\">>> projectName >>> \", projectName);\nvar appStore = new _stateManagerAppStore2['default']();\n_libRiotControl2['default'].addStore(appStore);\n_riot2['default'].control = _libRiotControl2['default'];\n\n// we need this to easily check the current route from every component\n_riot2['default'].routeState = {\n    view: ''\n};\n\nvar self = undefined;\nvar _views = ['chatapp', 'testapp', 'helloapp', 'riot-app-test', 'home', 'fstag'];\nvar _defaultView = 'fstag';\nvar _currentView = '';\n// Redirect unlogged users to /login page\nfunction processorFilter(request, response, next) {\n    // TODO :: HOW CAN PAGES BE READ FROM CONFIGURATION ?\n    var view = request.uri.slice(1);\n    var extraParams = { header: true, footer: true };\n    if (view.indexOf('/') !== -1) {\n        // posOfSlash\n        view = view.substring(0, view.indexOf('/') || view.length);\n        var replaced = request.uri.replace('/' + view + '/', '');\n        var arr = replaced.split(\"&\");\n        for (var i = arr.length - 1; i >= 0; i--) {\n            if (arr[i].split(\"=\") && arr[i].split(\"=\").length === 2) {\n                var keyValArr = arr[i].split(\"=\");\n                extraParams[keyValArr[0]] = keyValArr[1] || '';\n            }\n        }\n    }\n    try {\n        _currentView = view;\n        __webpack_require__(16)(\"./\" + projectName + '/' + view + '.html');\n        var tags = _riot2['default'].mount('#app', view);\n        if (extraParams.header !== 'false') {\n            __webpack_require__(30)(\"./\" + projectName + '/headertag.html');\n            var tagsH = _riot2['default'].mount('#headertag', 'headertag');\n        }\n        if (extraParams.footer !== 'false') {\n            __webpack_require__(31)(\"./\" + projectName + '/footertag.html');\n            var tagsF = _riot2['default'].mount('#footertag', 'footertag');\n        }\n    } catch (e) {\n        console.log(\" **** nothing found with >> \", view);\n        console.log(\"details of error \", e);\n        next();\n        // TODO :: RM THE `views` folder hardcoding.\n    } finally {\n        next();\n    }\n}\n\n// Apply security filter to Riot-Router\n_riot2['default'].router.use(processorFilter);\n\n_riot2['default'].mount('*');\n// My app routes\nvar Route = _riot2['default'].router.Route,\n    DefaultRoute = _riot2['default'].router.DefaultRoute,\n    NotFoundRoute = _riot2['default'].router.NotFoundRoute,\n    RedirectRoute = _riot2['default'].router.RedirectRoute;\n\n_riot2['default'].router.routes([new Route({ tag: 'helloapp' }), new Route({ tag: 'fstag' }), new DefaultRoute({ tag: 'home' }), new RedirectRoute({ from: 'test', to: 'testapp' }), new NotFoundRoute({ tag: 'not-found' })]);\n// Start routing\n_riot2['default'].router.start();\n\n/*****************\n ** WEBPACK FOOTER\n ** ./router/index.js\n ** module id = 6\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./router/index.js?")},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_RESULT__;/* Riot v2.3.18, @license MIT */\n\n;(function(window, undefined) {\n  'use strict';\nvar riot = { version: 'v2.3.18', settings: {} },\n  // be aware, internal usage\n  // ATTENTION: prefix the global dynamic variables with `__`\n\n  // counter to give a unique id to all the Tag instances\n  __uid = 0,\n  // tags instances cache\n  __virtualDom = [],\n  // tags implementation cache\n  __tagImpl = {},\n\n  /**\n   * Const\n   */\n  GLOBAL_MIXIN = '__global_mixin',\n\n  // riot specific prefixes\n  RIOT_PREFIX = 'riot-',\n  RIOT_TAG = RIOT_PREFIX + 'tag',\n  RIOT_TAG_IS = 'data-is',\n\n  // for typeof == '' comparisons\n  T_STRING = 'string',\n  T_OBJECT = 'object',\n  T_UNDEF  = 'undefined',\n  T_FUNCTION = 'function',\n  // special native tags that cannot be treated like the others\n  SPECIAL_TAGS_REGEX = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n  RESERVED_WORDS_BLACKLIST = ['_item', '_id', '_parent', 'update', 'root', 'mount', 'unmount', 'mixin', 'isMounted', 'isLoop', 'tags', 'parent', 'opts', 'trigger', 'on', 'off', 'one'],\n\n  // version# for IE 8-11, 0 for others\n  IE_VERSION = (window && window.document || {}).documentMode | 0,\n\n  // detect firefox to fix #1374\n  FIREFOX = window && !!window.InstallTrigger\n/* istanbul ignore next */\nriot.observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables and methods\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice,\n    onEachEvent = function(e, fn) { e.replace(/\\S+/g, fn) }\n\n  // extend the object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given space separated list of `events` and execute the `callback` each time an event is triggered.\n     * @param  { String } events - events ids\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(events, fn) {\n        if (typeof fn != 'function')  return el\n\n        onEachEvent(events, function(name, pos) {\n          (callbacks[name] = callbacks[name] || []).push(fn)\n          fn.typed = pos > 0\n        })\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given space separated list of `events` listeners\n     * @param   { String } events - events ids\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(events, fn) {\n        if (events == '*' && !fn) callbacks = {}\n        else {\n          onEachEvent(events, function(name) {\n            if (fn) {\n              var arr = callbacks[name]\n              for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n                if (cb == fn) arr.splice(i--, 1)\n              }\n            } else delete callbacks[name]\n          })\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given space separated list of `events` and execute the `callback` at most once\n     * @param   { String } events - events ids\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(events, fn) {\n        function on() {\n          el.off(events, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(events, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to the given space separated list of `events`\n     * @param   { String } events - events ids\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(events) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns\n\n        for (var i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        onEachEvent(events, function(name) {\n\n          fns = slice.call(callbacks[name] || [], 0)\n\n          for (var i = 0, fn; fn = fns[i]; ++i) {\n            if (fn.busy) return\n            fn.busy = 1\n            fn.apply(el, fn.typed ? [name].concat(args) : args)\n            if (fns[i] !== fn) { i-- }\n            fn.busy = 0\n          }\n\n          if (callbacks['*'] && name != '*')\n            el.trigger.apply(el, ['*', name].concat(args))\n\n        })\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\n/* istanbul ignore next */\n;(function(riot) {\n\n/**\n * Simple client-side router\n * @module riot-route\n */\n\n\nvar RE_ORIGIN = /^.+?\\/\\/+[^\\/]+/,\n  EVENT_LISTENER = 'EventListener',\n  REMOVE_EVENT_LISTENER = 'remove' + EVENT_LISTENER,\n  ADD_EVENT_LISTENER = 'add' + EVENT_LISTENER,\n  HAS_ATTRIBUTE = 'hasAttribute',\n  REPLACE = 'replace',\n  POPSTATE = 'popstate',\n  HASHCHANGE = 'hashchange',\n  TRIGGER = 'trigger',\n  MAX_EMIT_STACK_LEVEL = 3,\n  win = typeof window != 'undefined' && window,\n  doc = typeof document != 'undefined' && document,\n  hist = win && history,\n  loc = win && (hist.location || win.location), // see html5-history-api\n  prot = Router.prototype, // to minify more\n  clickEvent = doc && doc.ontouchstart ? 'touchstart' : 'click',\n  started = false,\n  central = riot.observable(),\n  routeFound = false,\n  debouncedEmit,\n  base, current, parser, secondParser, emitStack = [], emitStackLevel = 0\n\n/**\n * Default parser. You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_PARSER(path) {\n  return path.split(/[/?#]/)\n}\n\n/**\n * Default parser (second). You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @param {string} filter - filter string (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_SECOND_PARSER(path, filter) {\n  var re = new RegExp('^' + filter[REPLACE](/\\*/g, '([^/?#]+?)')[REPLACE](/\\.\\./, '.*') + '$'),\n    args = path.match(re)\n\n  if (args) return args.slice(1)\n}\n\n/**\n * Simple/cheap debounce implementation\n * @param   {function} fn - callback\n * @param   {number} delay - delay in seconds\n * @returns {function} debounced function\n */\nfunction debounce(fn, delay) {\n  var t\n  return function () {\n    clearTimeout(t)\n    t = setTimeout(fn, delay)\n  }\n}\n\n/**\n * Set the window listeners to trigger the routes\n * @param {boolean} autoExec - see route.start\n */\nfunction start(autoExec) {\n  debouncedEmit = debounce(emit, 1)\n  win[ADD_EVENT_LISTENER](POPSTATE, debouncedEmit)\n  win[ADD_EVENT_LISTENER](HASHCHANGE, debouncedEmit)\n  doc[ADD_EVENT_LISTENER](clickEvent, click)\n  if (autoExec) emit(true)\n}\n\n/**\n * Router class\n */\nfunction Router() {\n  this.$ = []\n  riot.observable(this) // make it observable\n  central.on('stop', this.s.bind(this))\n  central.on('emit', this.e.bind(this))\n}\n\nfunction normalize(path) {\n  return path[REPLACE](/^\\/|\\/$/, '')\n}\n\nfunction isString(str) {\n  return typeof str == 'string'\n}\n\n/**\n * Get the part after domain name\n * @param {string} href - fullpath\n * @returns {string} path from root\n */\nfunction getPathFromRoot(href) {\n  return (href || loc.href)[REPLACE](RE_ORIGIN, '')\n}\n\n/**\n * Get the part after base\n * @param {string} href - fullpath\n * @returns {string} path from base\n */\nfunction getPathFromBase(href) {\n  return base[0] == '#'\n    ? (href || loc.href || '').split(base)[1] || ''\n    : (loc ? getPathFromRoot(href) : href || '')[REPLACE](base, '')\n}\n\nfunction emit(force) {\n  // the stack is needed for redirections\n  var isRoot = emitStackLevel == 0\n  if (MAX_EMIT_STACK_LEVEL <= emitStackLevel) return\n\n  emitStackLevel++\n  emitStack.push(function() {\n    var path = getPathFromBase()\n    if (force || path != current) {\n      central[TRIGGER]('emit', path)\n      current = path\n    }\n  })\n  if (isRoot) {\n    while (emitStack.length) {\n      emitStack[0]()\n      emitStack.shift()\n    }\n    emitStackLevel = 0\n  }\n}\n\nfunction click(e) {\n  if (\n    e.which != 1 // not left click\n    || e.metaKey || e.ctrlKey || e.shiftKey // or meta keys\n    || e.defaultPrevented // or default prevented\n  ) return\n\n  var el = e.target\n  while (el && el.nodeName != 'A') el = el.parentNode\n\n  if (\n    !el || el.nodeName != 'A' // not A tag\n    || el[HAS_ATTRIBUTE]('download') // has download attr\n    || !el[HAS_ATTRIBUTE]('href') // has no href attr\n    || el.target && el.target != '_self' // another window or frame\n    || el.href.indexOf(loc.href.match(RE_ORIGIN)[0]) == -1 // cross origin\n  ) return\n\n  if (el.href != loc.href) {\n    if (\n      el.href.split('#')[0] == loc.href.split('#')[0] // internal jump\n      || base != '#' && getPathFromRoot(el.href).indexOf(base) !== 0 // outside of base\n      || !go(getPathFromBase(el.href), el.title || doc.title) // route not found\n    ) return\n  }\n\n  e.preventDefault()\n}\n\n/**\n * Go to the path\n * @param {string} path - destination path\n * @param {string} title - page title\n * @param {boolean} shouldReplace - use replaceState or pushState\n * @returns {boolean} - route not found flag\n */\nfunction go(path, title, shouldReplace) {\n  if (hist) { // if a browser\n    path = base + normalize(path)\n    title = title || doc.title\n    // browsers ignores the second parameter `title`\n    shouldReplace\n      ? hist.replaceState(null, title, path)\n      : hist.pushState(null, title, path)\n    // so we need to set it manually\n    doc.title = title\n    routeFound = false\n    emit()\n    return routeFound\n  }\n\n  // Server-side usage: directly execute handlers for the path\n  return central[TRIGGER]('emit', getPathFromBase(path))\n}\n\n/**\n * Go to path or set action\n * a single string:                go there\n * two strings:                    go there with setting a title\n * two strings and boolean:        replace history with setting a title\n * a single function:              set an action on the default route\n * a string/RegExp and a function: set an action on the route\n * @param {(string|function)} first - path / action / filter\n * @param {(string|RegExp|function)} second - title / action\n * @param {boolean} third - replace flag\n */\nprot.m = function(first, second, third) {\n  if (isString(first) && (!second || isString(second))) go(first, second, third || false)\n  else if (second) this.r(first, second)\n  else this.r('@', first)\n}\n\n/**\n * Stop routing\n */\nprot.s = function() {\n  this.off('*')\n  this.$ = []\n}\n\n/**\n * Emit\n * @param {string} path - path\n */\nprot.e = function(path) {\n  this.$.concat('@').some(function(filter) {\n    var args = (filter == '@' ? parser : secondParser)(normalize(path), normalize(filter))\n    if (typeof args != 'undefined') {\n      this[TRIGGER].apply(null, [filter].concat(args))\n      return routeFound = true // exit from loop\n    }\n  }, this)\n}\n\n/**\n * Register route\n * @param {string} filter - filter for matching to url\n * @param {function} action - action to register\n */\nprot.r = function(filter, action) {\n  if (filter != '@') {\n    filter = '/' + normalize(filter)\n    this.$.push(filter)\n  }\n  this.on(filter, action)\n}\n\nvar mainRouter = new Router()\nvar route = mainRouter.m.bind(mainRouter)\n\n/**\n * Create a sub router\n * @returns {function} the method of a new Router object\n */\nroute.create = function() {\n  var newSubRouter = new Router()\n  // assign sub-router's main method\n  var router = newSubRouter.m.bind(newSubRouter)\n  // stop only this sub-router\n  router.stop = newSubRouter.s.bind(newSubRouter)\n  return router\n}\n\n/**\n * Set the base of url\n * @param {(str|RegExp)} arg - a new base or '#' or '#!'\n */\nroute.base = function(arg) {\n  base = arg || '#'\n  current = getPathFromBase() // recalculate current path\n}\n\n/** Exec routing right now **/\nroute.exec = function() {\n  emit(true)\n}\n\n/**\n * Replace the default router to yours\n * @param {function} fn - your parser function\n * @param {function} fn2 - your secondParser function\n */\nroute.parser = function(fn, fn2) {\n  if (!fn && !fn2) {\n    // reset parser for testing...\n    parser = DEFAULT_PARSER\n    secondParser = DEFAULT_SECOND_PARSER\n  }\n  if (fn) parser = fn\n  if (fn2) secondParser = fn2\n}\n\n/**\n * Helper function to get url query as an object\n * @returns {object} parsed query\n */\nroute.query = function() {\n  var q = {}\n  var href = loc.href || current\n  href[REPLACE](/[?&](.+?)=([^&]*)/g, function(_, k, v) { q[k] = v })\n  return q\n}\n\n/** Stop routing **/\nroute.stop = function () {\n  if (started) {\n    if (win) {\n      win[REMOVE_EVENT_LISTENER](POPSTATE, debouncedEmit)\n      win[REMOVE_EVENT_LISTENER](HASHCHANGE, debouncedEmit)\n      doc[REMOVE_EVENT_LISTENER](clickEvent, click)\n    }\n    central[TRIGGER]('stop')\n    started = false\n  }\n}\n\n/**\n * Start routing\n * @param {boolean} autoExec - automatically exec after starting if true\n */\nroute.start = function (autoExec) {\n  if (!started) {\n    if (win) {\n      if (document.readyState == 'complete') start(autoExec)\n      // the timeout is needed to solve\n      // a weird safari bug https://github.com/riot/route/issues/33\n      else win[ADD_EVENT_LISTENER]('load', function() {\n        setTimeout(function() { start(autoExec) }, 1)\n      })\n    }\n    started = true\n  }\n}\n\n/** Prepare the router **/\nroute.base()\nroute.parser()\n\nriot.route = route\n})(riot)\n/* istanbul ignore next */\n\n/**\n * The riot template engine\n * @version v2.3.22\n */\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?(\\/)[gim]*/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCKS, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCKS, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCKS, REGLOB)\n    },\n\n    DEFAULT = '{ }'\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCKS, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ]\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) bp = _cache\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) return _pairs\n\n    var arr = pair.split(' ')\n\n    if (arr.length !== 2 || /[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]/.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(/(?=[[\\]()*+?.^$|])/g, '\\\\').split(' '))\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr)\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr)\n    arr[6] = _rewrite(_pairs[6], arr)\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCKS, REGLOB)\n    arr[8] = pair\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) _bp = _cache\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6]\n\n    isexpr = start = re.lastIndex = 0\n\n    while ((match = re.exec(str))) {\n\n      pos = match.index\n\n      if (isexpr) {\n\n        if (match[2]) {\n          re.lastIndex = skipBraces(str, match[2], re.lastIndex)\n          continue\n        }\n        if (!match[3]) {\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos))\n        start = re.lastIndex\n        re = _bp[6 + (isexpr ^= 1)]\n        re.lastIndex = start\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start))\n    }\n\n    return parts\n\n    function unescapeStr (s) {\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'))\n      } else {\n        parts.push(s)\n      }\n    }\n\n    function skipBraces (s, ch, ix) {\n      var\n        match,\n        recch = FINDBRACES[ch]\n\n      recch.lastIndex = ix\n      ix = 1\n      while ((match = recch.exec(s))) {\n        if (match[1] &&\n          !(match[1] === ch ? ++ix : --ix)) break\n      }\n      return ix ? s.length : recch.lastIndex\n    }\n  }\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  }\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9])\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  }\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  }\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair)\n      _regex = pair === DEFAULT ? _loopback : _rewrite\n      _cache[9] = _regex(_pairs[9])\n    }\n    cachedBrackets = pair\n  }\n\n  function _setSettings (o) {\n    var b\n\n    o = o || {}\n    b = o.brackets\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    })\n    _settings = o\n    _reset(b)\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  })\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {}\n  _brackets.set = _reset\n\n  _brackets.R_STRINGS = R_STRINGS\n  _brackets.R_MLCOMMS = R_MLCOMMS\n  _brackets.S_QBLOCKS = S_QBLOCKS\n\n  return _brackets\n\n})()\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\nvar tmpl = (function () {\n\n  var _cache = {}\n\n  function _tmpl (str, data) {\n    if (!str) return str\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(data, _logErr)\n  }\n\n  _tmpl.haveRaw = brackets.hasRaw\n\n  _tmpl.hasExpr = brackets.hasExpr\n\n  _tmpl.loopKeys = brackets.loopKeys\n\n  _tmpl.errorHandler = null\n\n  function _logErr (err, ctx) {\n\n    if (_tmpl.errorHandler) {\n\n      err.riotData = {\n        tagName: ctx && ctx.root && ctx.root.htmlName,\n        _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n      }\n      _tmpl.errorHandler(err)\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str)\n\n    if (expr.slice(0, 11) !== 'try{return ') expr = 'return ' + expr\n\n    return new Function('E', expr + ';')    //eslint-disable-line no-new-func\n  }\n\n  var\n    CH_IDEXPR = '\\u2057',\n    RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/,\n    RE_QBLOCK = RegExp(brackets.S_QBLOCKS, 'g'),\n    RE_DQUOTE = /\\u2057/g,\n    RE_QBMARK = /\\u2057(\\d+)~/g\n\n  function _getTmpl (str) {\n    var\n      qstr = [],\n      expr,\n      parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1)\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = []\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i]\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) list[j++] = expr\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")'\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr)\n    }\n\n    if (qstr[0]) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      })\n    }\n    return expr\n  }\n\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    }\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n          .replace(RE_QBLOCK, function (s, div) {\n            return s.length > 2 && !div ? CH_IDEXPR + (qstr.push(s) - 1) + '~' : s\n          })\n          .replace(/\\s+/g, ' ').trim()\n          .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1')\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g\n\n        expr = RegExp.rightContext\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1]\n\n        while (jsb = (match = re.exec(expr))[1]) skipBraces(jsb, re)\n\n        jsb  = expr.slice(0, match.index)\n        expr = RegExp.rightContext\n\n        list[cnt++] = _wrapExpr(jsb, 1, key)\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0]\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch]\n\n      ir.lastIndex = re.lastIndex\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) ++lv\n        else if (!--lv) break\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][$\\w]+:|(^ *|[^$\\w\\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/\n\n  function _wrapExpr (expr, asText, key) {\n    var tb\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar\n          if (pos) tb = (s = s[pos]) === '.' || s === '(' || s === '['\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos))\n        }\n      }\n      return match\n    })\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}'\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"'\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)'\n    }\n\n    return expr\n  }\n\n  // istanbul ignore next: compatibility fix for beta versions\n  _tmpl.parse = function (s) { return s }\n\n  _tmpl.version = brackets.version = 'v2.3.22'\n\n  return _tmpl\n\n})()\n\n/*\n  lib/browser/tag/mkdom.js\n\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\nvar mkdom = (function _mkdom() {\n  var\n    reHasYield  = /<yield\\b/i,\n    reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig,\n    reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n    reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig\n  var\n    rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n    tblTags = IE_VERSION && IE_VERSION < 10\n      ? SPECIAL_TAGS_REGEX : /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/\n\n  /**\n   * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n   * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n   *\n   * @param   {string} templ  - The template coming from the custom tag definition\n   * @param   {string} [html] - HTML content that comes from the DOM element where you\n   *           will mount the tag, mostly the original tag in the page\n   * @returns {HTMLElement} DOM element with _templ_ merged through `YIELD` with the _html_.\n   */\n  function _mkdom(templ, html) {\n    var\n      match   = templ && templ.match(/^\\s*<([-\\w]+)/),\n      tagName = match && match[1].toLowerCase(),\n      el = mkEl('div')\n\n    // replace all the yield tags with the tag inner html\n    templ = replaceYield(templ, html)\n\n    /* istanbul ignore next */\n    if (tblTags.test(tagName))\n      el = specialTags(el, templ, tagName)\n    else\n      el.innerHTML = templ\n\n    el.stub = true\n\n    return el\n  }\n\n  /*\n    Creates the root element for table or select child elements:\n    tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n  */\n  function specialTags(el, templ, tagName) {\n    var\n      select = tagName[0] === 'o',\n      parent = select ? 'select>' : 'table>'\n\n    // trim() is important here, this ensures we don't have artifacts,\n    // so we can check if we have only one element inside the parent\n    el.innerHTML = '<' + parent + templ.trim() + '</' + parent\n    parent = el.firstChild\n\n    // returns the immediate parent if tr/th/td/col is the only element, if not\n    // returns the whole tree, as this can include additional elements\n    if (select) {\n      parent.selectedIndex = -1  // for IE9, compatible w/current riot behavior\n    } else {\n      // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n      var tname = rootEls[tagName]\n      if (tname && parent.childElementCount === 1) parent = $(tname, parent)\n    }\n    return parent\n  }\n\n  /*\n    Replace the yield tag from any tag template with the innerHTML of the\n    original tag in the page\n  */\n  function replaceYield(templ, html) {\n    // do nothing if no yield\n    if (!reHasYield.test(templ)) return templ\n\n    // be careful with #1343 - string on the source having `$1`\n    var src = {}\n\n    html = html && html.replace(reYieldSrc, function (_, ref, text) {\n      src[ref] = src[ref] || text   // preserve first definition\n      return ''\n    }).trim()\n\n    return templ\n      .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n        return src[ref] || def || ''\n      })\n      .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n        return html || def || ''\n      })\n  }\n\n  return _mkdom\n\n})()\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val) {\n  var item = {}\n  item[expr.key] = key\n  if (expr.pos) item[expr.pos] = val\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n\n  var i = tags.length,\n    j = items.length,\n    t\n\n  while (i > j) {\n    t = tags[--i]\n    tags.splice(i, 1)\n    t.unmount()\n  }\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @param   { Object } child - non custom loop tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(child, i) {\n  Object.keys(child.htmls).forEach(function(tagName) {\n    var tag = child.htmls[tagName]\n    if (isArray(tag))\n      each(tag, function (t) {\n        moveChildTag(t, tagName, i)\n      })\n    else\n      moveChildTag(tag, tagName, i)\n  })\n}\n\n/**\n * Adds the elements for a virtual tag\n * @param { Tag } tag - the tag whose root's children will be inserted or appended\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction addVirtual(tag, src, target) {\n  var el = tag._root, sib\n  tag._virts = []\n  while (el) {\n    sib = el.nextSibling\n    if (target)\n      src.insertBefore(el, target._root)\n    else\n      src.appendChild(el)\n\n    tag._virts.push(el) // hold for unmounting\n    el = sib\n  }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @param { Tag } tag - first child reference used to start move\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n * @param { Number } len - how many child nodes to move\n */\nfunction moveVirtual(tag, src, target, len) {\n  var el = tag._root, sib, i = 0\n  for (; i < len; i++) {\n    sib = el.nextSibling\n    src.insertBefore(el, target._root)\n    el = sib\n  }\n}\n\n\n/**\n * Manage tags having the 'each'\n * @param   { Object } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n */\nfunction _each(dom, parent, expr) {\n\n  // remove the each property from the original tag\n  remAttr(dom, 'each')\n\n  var mustReorder = typeof getAttr(dom, 'no-reorder') !== T_STRING || remAttr(dom, 'no-reorder'),\n    tagName = getTagName(dom),\n    impl = __tagImpl[tagName] || { tmpl: dom.outerHTML },\n    useRoot = SPECIAL_TAGS_REGEX.test(tagName),\n    root = dom.parentNode,\n    ref = document.createTextNode(''),\n    child = getTag(dom),\n    isOption = tagName.toLowerCase() === 'option', // the option tags must be treated differently\n    tags = [],\n    oldItems = [],\n    hasKeys,\n    isVirtual = dom.htmlName == 'VIRTUAL'\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr)\n\n  // insert a marked where the loop tags will be injected\n  root.insertBefore(ref, dom)\n\n  // clean template code\n  parent.one('before-mount', function () {\n\n    // remove the original DOM node\n    dom.parentNode.removeChild(dom)\n    if (root.stub) root = parent.root\n\n  }).on('update', function () {\n    // get the new items collection\n    var items = tmpl(expr.val, parent),\n      // create a fragment to hold the new DOM nodes to inject in the parent tag\n      frag = document.createDocumentFragment()\n\n    // object loop. any changes cause full redraw\n    if (!isArray(items)) {\n      hasKeys = items || false\n      items = hasKeys ?\n        Object.keys(items).map(function (key) {\n          return mkitem(expr, key, items[key])\n        }) : []\n    }\n\n    // loop all the new items\n    var i = 0,\n      itemsLength = items.length\n\n    for (; i < itemsLength; i++) {\n      // reorder only if the items are objects\n      var\n        item = items[i],\n        _mustReorder = mustReorder && item instanceof Object && !hasKeys,\n        oldPos = oldItems.indexOf(item),\n        pos = ~oldPos && _mustReorder ? oldPos : i,\n        // does a tag exist in this position?\n        tag = tags[pos]\n\n      item = !hasKeys && expr.key ? mkitem(expr, item, i) : item\n\n      // new tag\n      if (\n        !_mustReorder && !tag // with no-reorder we just update the old tags\n        ||\n        _mustReorder && !~oldPos || !tag // by default we always try to reorder the DOM elements\n      ) {\n\n        tag = new Tag(impl, {\n          parent: parent,\n          isLoop: true,\n          hasImpl: !!__tagImpl[tagName],\n          root: useRoot ? root : dom.cloneNode(),\n          item: item\n        }, dom.innerHTML)\n\n        tag.mount()\n\n        if (isVirtual) tag._root = tag.root.firstChild // save reference for further moves or inserts\n        // this tag must be appended\n        if (i == tags.length || !tags[i]) { // fix 1581\n          if (isVirtual)\n            addVirtual(tag, frag)\n          else frag.appendChild(tag.root)\n        }\n        // this tag must be insert\n        else {\n          if (isVirtual)\n            addVirtual(tag, root, tags[i])\n          else root.insertBefore(tag.root, tags[i].root) // #1374 some browsers reset selected here\n          oldItems.splice(i, 0, item)\n        }\n\n        tags.splice(i, 0, tag)\n        pos = i // handled here so no move\n      } else tag.update(item, true)\n\n      // reorder the tag if it's not located in its previous position\n      if (\n        pos !== i && _mustReorder &&\n        tags[i] // fix 1581 unable to reproduce it in a test!\n      ) {\n        // update the DOM\n        if (isVirtual)\n          moveVirtual(tag, root, tags[i], dom.childNodes.length)\n        else root.insertBefore(tag.root, tags[i].root)\n        // update the position attribute if it exists\n        if (expr.pos)\n          tag[expr.pos] = i\n        // move the old tag instance\n        tags.splice(i, 0, tags.splice(pos, 1)[0])\n        // move the old item\n        oldItems.splice(i, 0, oldItems.splice(pos, 1)[0])\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.htmls) moveNestedTags(tag, i)\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag._item = item\n      // cache the real parent tag internally\n      defineProperty(tag, '_parent', parent)\n    }\n\n    // remove the redundant tags\n    unmountRedundant(items, tags)\n\n    // insert the new nodes\n    if (isOption) {\n      root.appendChild(frag)\n\n      // #1374 FireFox bug in <option selected={expression}>\n      if (FIREFOX && !root.multiple) {\n        for (var n = 0; n < root.length; n++) {\n          if (root[n].__riot1374) {\n            root.selectedIndex = n  // clear other options\n            delete root[n].__riot1374\n            break\n          }\n        }\n      }\n    }\n    else root.insertBefore(frag, ref)\n\n    // set the 'tags' property of the parent tag\n    // if child is 'undefined' it means that we don't need to set this property\n    // for example:\n    // we don't need store the `myTag.htmls['div']` property if we are looping a div tag\n    // but we need to track the `myTag.htmls['child']` property looping a custom child node named `child`\n    if (child) parent.htmls[tagName] = tags\n\n    // clone the items array\n    oldItems = items.slice()\n\n  })\n\n}\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = (function(_riot) {\n\n  if (!window) return { // skip injection on the server\n    add: function () {},\n    inject: function () {}\n  }\n\n  var styleNode = (function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style')\n    setAttr(newNode, 'type', 'text/css')\n\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]')\n    if (userNode) {\n      if (userNode.id) newNode.id = userNode.id\n      userNode.parentNode.replaceChild(newNode, userNode)\n    }\n    else document.getElementsByTagName('head')[0].appendChild(newNode)\n\n    return newNode\n  })()\n\n  // Create cache and shortcut to the correct property\n  var cssTextProp = styleNode.styleSheet,\n    stylesToInject = ''\n\n  // Expose the style node in a non-modificable property\n  Object.defineProperty(_riot, 'styleNode', {\n    value: styleNode,\n    writable: true\n  })\n\n  /**\n   * Public api\n   */\n  return {\n    /**\n     * Save a tag style to be later injected into DOM\n     * @param   { String } css [description]\n     */\n    add: function(css) {\n      stylesToInject += css\n    },\n    /**\n     * Inject all previously saved tag styles into DOM\n     * innerHTML seems slow: http://jsperf.com/riot-insert-style\n     */\n    inject: function() {\n      if (stylesToInject) {\n        if (cssTextProp) cssTextProp.cssText += stylesToInject\n        else styleNode.innerHTML += stylesToInject\n        stylesToInject = ''\n      }\n    }\n  }\n\n})(riot)\n\n\nfunction parseNamedElements(root, tag, childTags, forceParsingNamed) {\n\n  walk(root, function(dom) {\n    if (dom.nodeType == 1) {\n      dom.isLoop = dom.isLoop ||\n                  (dom.parentNode && dom.parentNode.isLoop || getAttr(dom, 'each'))\n                    ? 1 : 0\n\n      // custom child tag\n      if (childTags) {\n        var child = getTag(dom)\n\n        if (child && !dom.isLoop)\n          childTags.push(initChildTag(child, {root: dom, parent: tag}, dom.innerHTML, tag))\n      }\n\n      if (!dom.isLoop || forceParsingNamed)\n        setNamed(dom, tag, [])\n    }\n\n  })\n\n}\n\nfunction parseExpressions(root, tag, expressions) {\n\n  function addExpr(dom, val, extra) {\n    if (tmpl.hasExpr(val)) {\n      expressions.push(extend({ dom: dom, expr: val }, extra))\n    }\n  }\n\n  walk(root, function(dom) {\n    var type = dom.nodeType,\n      attr\n\n    // text node\n    if (type == 3 && dom.parentNode.htmlName != 'STYLE') addExpr(dom, dom.nodeValue)\n    if (type != 1) return\n\n    /* element */\n\n    // loop\n    attr = getAttr(dom, 'each')\n\n    if (attr) { _each(dom, tag, attr); return false }\n\n    // attribute expressions\n    each(dom.attributes, function(attr) {\n      var name = attr.name,\n        bool = name.split('__')[1]\n\n      addExpr(dom, attr.value, { attr: bool || name, bool: bool })\n      if (bool) { remAttr(dom, name); return false }\n\n    })\n\n    // skip custom tags\n    if (getTag(dom)) return false\n\n  })\n\n}\nfunction Tag(impl, conf, innerHTML) {\n\n  var self = riot.observable(this),\n    opts = inherit(conf.opts) || {},\n    parent = conf.parent,\n    isLoop = conf.isLoop,\n    hasImpl = conf.hasImpl,\n    item = cleanUpData(conf.item),\n    expressions = [],\n    childTags = [],\n    root = conf.root,\n    tagName = root.htmlName.toLowerCase(),\n    attr = {},\n    propsInSyncWithParent = [],\n    dom\n\n  // only call unmount if we have a valid __tagImpl (has name property)\n  if (impl.name && root._tag) root._tag.unmount(true)\n\n  // not yet mounted\n  this.isMounted = false\n  root.isLoop = isLoop\n\n  // keep a reference to the tag just created\n  // so we will be able to mount this tag multiple times\n  root._tag = this\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(this, '_riot_id', ++__uid) // base 1 allows test !t._riot_id\n\n  extend(this, { parent: parent, root: root, opts: opts, tags: {} }, item)\n\n  // grab attributes\n  each(root.attributes, function(el) {\n    var val = el.value\n    // remember attributes with expressions only\n    if (tmpl.hasExpr(val)) attr[el.name] = val\n  })\n\n  dom = mkdom(impl.tmpl, innerHTML)\n\n  // options\n  function updateOpts() {\n    var ctx = hasImpl && isLoop ? self : parent || self\n\n    // update opts from current DOM attributes\n    each(root.attributes, function(el) {\n      var val = el.value\n      opts[toCamel(el.name)] = tmpl.hasExpr(val) ? tmpl(val, ctx) : val\n    })\n    // recover those with expressions\n    each(Object.keys(attr), function(name) {\n      opts[toCamel(name)] = tmpl(attr[name], ctx)\n    })\n  }\n\n  function normalizeData(data) {\n    for (var key in item) {\n      if (typeof self[key] !== T_UNDEF && isWritable(self, key))\n        self[key] = data[key]\n    }\n  }\n\n  function inheritFromParent () {\n    if (!self.parent || !isLoop) return\n    each(Object.keys(self.parent), function(k) {\n      // some properties must be always in sync with the parent tag\n      var mustSync = !contains(RESERVED_WORDS_BLACKLIST, k) && contains(propsInSyncWithParent, k)\n      if (typeof self[k] === T_UNDEF || mustSync) {\n        // track the property to keep in sync\n        // so we can keep it updated\n        if (!mustSync) propsInSyncWithParent.push(k)\n        self[k] = self.parent[k]\n      }\n    })\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @param   { Boolean } isInherited - is this update coming from a parent tag?\n   * @returns { self }\n   */\n  defineProperty(this, 'update', function(data, isInherited) {\n\n    // make sure the data passed will not override\n    // the component core methods\n    data = cleanUpData(data)\n    // inherit properties from the parent\n    inheritFromParent()\n    // normalize the tag properties in case an item object was initially passed\n    if (data && isObject(item)) {\n      normalizeData(data)\n      item = data\n    }\n    extend(self, data)\n    updateOpts()\n    self.trigger('update', data)\n    update(expressions, self)\n\n    // the updated event will be triggered\n    // once the DOM will be ready and all the re-flows are completed\n    // this is useful if you want to get the \"real\" root properties\n    // 4 ex: root.offsetWidth ...\n    if (isInherited && self.parent)\n      // closes #1599\n      self.parent.one('updated', function() { self.trigger('updated') })\n    else rAF(function() { self.trigger('updated') })\n\n    return this\n  })\n\n  defineProperty(this, 'mixin', function() {\n    each(arguments, function(mix) {\n      var instance\n\n      mix = typeof mix === T_STRING ? riot.mixin(mix) : mix\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix()\n        // save the prototype to loop it afterwards\n        mix = mix.prototype\n      } else instance = mix\n\n      // loop the keys in the function prototype or the all object keys\n      each(Object.getOwnPropertyNames(mix), function(key) {\n        // bind methods to self\n        if (key != 'init')\n          self[key] = isFunction(instance[key]) ?\n                        instance[key].bind(self) :\n                        instance[key]\n      })\n\n      // init method will be called automatically\n      if (instance.init) instance.init.bind(self)()\n    })\n    return this\n  })\n\n  defineProperty(this, 'mount', function() {\n\n    updateOpts()\n\n    // add global mixin\n    var globalMixin = riot.mixin(GLOBAL_MIXIN)\n    if (globalMixin) self.mixin(globalMixin)\n\n    // initialiation\n    if (impl.fn) impl.fn.call(self, opts)\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions(dom, self, expressions)\n\n    // mount the child tags\n    toggle(true)\n\n    // update the root adding custom attributes coming from the compiler\n    // it fixes also #1087\n    if (impl.attrs)\n      walkAttributes(impl.attrs, function (k, v) { setAttr(root, k, v) })\n    if (impl.attrs || hasImpl)\n      parseExpressions(self.root, self, expressions)\n\n    if (!self.parent || isLoop) self.update(item)\n\n    // internal use only, fixes #403\n    self.trigger('before-mount')\n\n    if (isLoop && !hasImpl) {\n      // update the root attribute for the looped elements\n      root = dom.firstChild\n    } else {\n      while (dom.firstChild) root.appendChild(dom.firstChild)\n      if (root.stub) root = parent.root\n    }\n\n    defineProperty(self, 'root', root)\n\n    // parse the named dom nodes in the looped child\n    // adding them to the parent as well\n    if (isLoop)\n      parseNamedElements(self.root, self.parent, null, true)\n\n    // if it's not a child tag we can trigger its mount event\n    if (!self.parent || self.parent.isMounted) {\n      self.isMounted = true\n      self.trigger('mount')\n    }\n    // otherwise we need to wait that the parent event gets triggered\n    else self.parent.one('mount', function() {\n      // avoid to trigger the `mount` event for the tags\n      // not visible included in an if statement\n      if (!isInStub(self.root)) {\n        self.parent.isMounted = self.isMounted = true\n        self.trigger('mount')\n      }\n    })\n  })\n\n\n  defineProperty(this, 'unmount', function(keepRootTag) {\n    var el = root,\n      p = el.parentNode,\n      ptag,\n      tagIndex = __virtualDom.indexOf(self)\n\n    self.trigger('before-unmount')\n\n    // remove this tag instance from the global virtualDom variable\n    if (~tagIndex)\n      __virtualDom.splice(tagIndex, 1)\n\n    if (p) {\n\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent)\n        // remove this tag from the parent tags object\n        // if there are multiple nested tags with same name..\n        // remove this element form the array\n        if (isArray(ptag.htmls[tagName]))\n          each(ptag.htmls[tagName], function(tag, i) {\n            if (tag._riot_id == self._riot_id)\n              ptag.htmls[tagName].splice(i, 1)\n          })\n        else\n          // otherwise just delete the tag instance\n          ptag.htmls[tagName] = undefined\n      }\n\n      else\n        while (el.firstChild) el.removeChild(el.firstChild)\n\n      if (!keepRootTag)\n        p.removeChild(el)\n      else {\n        // the riot-tag and the data-is attributes aren't needed anymore, remove them\n        remAttr(p, RIOT_TAG_IS)\n        remAttr(p, RIOT_TAG) // this will be removed in riot 3.0.0\n      }\n\n    }\n\n    if (this._virts) {\n      each(this._virts, function(v) {\n        if (v.parentNode) v.parentNode.removeChild(v)\n      })\n    }\n\n    self.trigger('unmount')\n    toggle()\n    self.off('*')\n    self.isMounted = false\n    delete root._tag\n\n  })\n\n  // proxy function to bind updates\n  // dispatched from a parent tag\n  function onChildUpdate(data) { self.update(data, true) }\n\n  function toggle(isMount) {\n\n    // mount/unmount children\n    each(childTags, function(child) { child[isMount ? 'mount' : 'unmount']() })\n\n    // listen/unlisten parent (events flow one way from parent to children)\n    if (!parent) return\n    var evt = isMount ? 'on' : 'off'\n\n    // the loop tags will be always in sync with the parent automatically\n    if (isLoop)\n      parent[evt]('unmount', self.unmount)\n    else {\n      parent[evt]('update', onChildUpdate)[evt]('unmount', self.unmount)\n    }\n  }\n\n\n  // named elements available for fn\n  parseNamedElements(dom, this, childTags)\n\n}\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n\n  dom[name] = function(e) {\n\n    var ptag = tag._parent,\n      item = tag._item,\n      el\n\n    if (!item)\n      while (ptag && !item) {\n        item = ptag._item\n        ptag = ptag._parent\n      }\n\n    // cross browser event fix\n    e = e || window.event\n\n    // override the event properties\n    if (isWritable(e, 'currentTarget')) e.currentTarget = dom\n    if (isWritable(e, 'target')) e.target = e.srcElement\n    if (isWritable(e, 'which')) e.which = e.charCode || e.keyCode\n\n    e.item = item\n\n    // prevent default behaviour (by default)\n    if (handler.call(tag, e) !== true && !/radio|check/.test(dom.type)) {\n      if (e.preventDefault) e.preventDefault()\n      e.returnValue = false\n    }\n\n    if (!e.preventUpdate) {\n      el = item ? getImmediateCustomParentTag(ptag) : tag\n      el.update()\n    }\n\n  }\n\n}\n\n\n/**\n * Insert a DOM node replacing another one (used by if- attribute)\n * @param   { Object } root - parent node\n * @param   { Object } node - node replaced\n * @param   { Object } before - node added\n */\nfunction insertTo(root, node, before) {\n  if (!root) return\n  root.insertBefore(before, node)\n  root.removeChild(node)\n}\n\n/**\n * Update the expressions in a Tag instance\n * @param   { Array } expressions - expression that must be re evaluated\n * @param   { Tag } tag - tag instance\n */\nfunction update(expressions, tag) {\n\n  each(expressions, function(expr, i) {\n\n    var dom = expr.dom,\n      attrName = expr.attr,\n      value = tmpl(expr.expr, tag),\n      parent = expr.dom.parentNode\n\n    if (expr.bool) {\n      value = !!value\n    } else if (value == null) {\n      value = ''\n    }\n\n    // #1638: regression of #1612, update the dom only if the value of the\n    // expression was changed\n    if (expr.value === value) {\n      return\n    }\n    expr.value = value\n\n    // textarea and text nodes has no attribute name\n    if (!attrName) {\n      // about #815 w/o replace: the browser converts the value to a string,\n      // the comparison by \"==\" does too, but not in the server\n      value += ''\n      // test for parent avoids error with invalid assignment to nodeValue\n      if (parent) {\n        if (parent.htmlName === 'TEXTAREA') {\n          parent.value = value                    // #1113\n          if (!IE_VERSION) dom.nodeValue = value  // #1625 IE throws here, nodeValue\n        }                                         // will be available on 'updated'\n        else dom.nodeValue = value\n      }\n      return\n    }\n\n    // ~~#1612: look for changes in dom.value when updating the value~~\n    if (attrName === 'value') {\n      dom.value = value\n      return\n    }\n\n    // remove original attribute\n    remAttr(dom, attrName)\n\n    // event handler\n    if (isFunction(value)) {\n      setEventHandler(attrName, value, dom, tag)\n\n    // if- conditional\n    } else if (attrName == 'if') {\n      var stub = expr.stub,\n        add = function() { insertTo(stub.parentNode, stub, dom) },\n        remove = function() { insertTo(dom.parentNode, dom, stub) }\n\n      // add to DOM\n      if (value) {\n        if (stub) {\n          add()\n          dom.inStub = false\n          // avoid to trigger the mount event if the tags is not visible yet\n          // maybe we can optimize this avoiding to mount the tag at all\n          if (!isInStub(dom)) {\n            walk(dom, function(el) {\n              if (el._tag && !el._tag.isMounted)\n                el._tag.isMounted = !!el._tag.trigger('mount')\n            })\n          }\n        }\n      // remove from DOM\n      } else {\n        stub = expr.stub = stub || document.createTextNode('')\n        // if the parentNode is defined we can easily replace the tag\n        if (dom.parentNode)\n          remove()\n        // otherwise we need to wait the updated event\n        else (tag.parent || tag).one('updated', remove)\n\n        dom.inStub = true\n      }\n    // show / hide\n    } else if (attrName === 'show') {\n      dom.style.display = value ? '' : 'none'\n\n    } else if (attrName === 'hide') {\n      dom.style.display = value ? 'none' : ''\n\n    } else if (expr.bool) {\n      dom[attrName] = value\n      if (value) setAttr(dom, attrName, attrName)\n      if (FIREFOX && attrName === 'selected' && dom.htmlName === 'OPTION') {\n        dom.__riot1374 = value   // #1374\n      }\n\n    } else if (value === 0 || value && typeof value !== T_OBJECT) {\n      // <img src=\"{ expr }\">\n      if (startsWith(attrName, RIOT_PREFIX) && attrName != RIOT_TAG) {\n        attrName = attrName.slice(RIOT_PREFIX.length)\n      }\n      setAttr(dom, attrName, value)\n    }\n\n  })\n\n}\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } els - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(els, fn) {\n  var len = els ? els.length : 0\n\n  for (var i = 0, el; i < len; i++) {\n    el = els[i]\n    // return false -> current item was removed by fn during the loop\n    if (el != null && fn(el, i) === false) i--\n  }\n  return els\n}\n\n/**\n * Detect if the argument passed is a function\n * @param   { * } v - whatever you want to pass to this function\n * @returns { Boolean } -\n */\nfunction isFunction(v) {\n  return typeof v === T_FUNCTION || false   // avoid IE problems\n}\n\n/**\n * Detect if the argument passed is an object, exclude null.\n * NOTE: Use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } v - whatever you want to pass to this function\n * @returns { Boolean } -\n */\nfunction isObject(v) {\n  return v && typeof v === T_OBJECT         // typeof null is 'object'\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name)\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } string - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(string) {\n  return string.replace(/-(\\w)/g, function(_, c) {\n    return c.toUpperCase()\n  })\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  dom.setAttribute(name, val)\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.htmlName && __tagImpl[getAttr(dom, RIOT_TAG_IS) ||\n    getAttr(dom, RIOT_TAG) || dom.htmlName.toLowerCase()]\n}\n/**\n * Add a child tag to its parent into the `tags` object\n * @param   { Object } tag - child tag instance\n * @param   { String } tagName - key where the new tag will be stored\n * @param   { Object } parent - tag instance where the new child tag will be included\n */\nfunction addChildTag(tag, tagName, parent) {\n  var cachedTag = parent.htmls[tagName]\n\n  // if there are multiple children tags having the same name\n  if (cachedTag) {\n    // if the parent tags property is not yet an array\n    // create it adding the first cached tag\n    if (!isArray(cachedTag))\n      // don't add the same tag twice\n      if (cachedTag !== tag)\n        parent.htmls[tagName] = [cachedTag]\n    // add the new nested tag to the array\n    if (!contains(parent.htmls[tagName], tag))\n      parent.htmls[tagName].push(tag)\n  } else {\n    parent.htmls[tagName] = tag\n  }\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @param   { Object } tag - child tag instance\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tag, tagName, newPos) {\n  var parent = tag.parent,\n    tags\n  // no parent no move\n  if (!parent) return\n\n  tags = parent.htmls[tagName]\n\n  if (isArray(tags))\n    tags.splice(newPos, 0, tags.splice(tags.indexOf(tag), 1)[0])\n  else addChildTag(tag, tagName, parent)\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = new Tag(child, opts, innerHTML),\n    tagName = getTagName(opts.root),\n    ptag = getImmediateCustomParentTag(parent)\n  // fix for the parent attribute in the looped elements\n  tag.parent = ptag\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag._parent = parent\n\n  // add this tag to the custom parent tag\n  addChildTag(tag, tagName, ptag)\n  // and also to the real parent tag\n  if (ptag !== parent)\n    addChildTag(tag, tagName, parent)\n  // empty the child node once we got its template\n  // to avoid that its children get compiled multiple times\n  opts.root.innerHTML = ''\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag\n  while (!getTag(ptag.root)) {\n    if (!ptag.parent) break\n    ptag = ptag.parent\n  }\n  return ptag\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n* @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options))\n  return el\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom) {\n  var child = getTag(dom),\n    namedTag = getAttr(dom, 'name'),\n    tagName = namedTag && !tmpl.hasExpr(namedTag) ?\n                namedTag :\n              child ? child.name : dom.htmlName.toLowerCase()\n\n  return tagName\n}\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj, args = arguments\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          src[key] = obj[key]\n      }\n    }\n  }\n  return src\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } arr - target array\n * @param   { * } item - item to test\n * @returns { Boolean } Does 'arr' contain 'item'?\n */\nfunction contains(arr, item) {\n  return ~arr.indexOf(item)\n}\n\n/**\n * Check whether an object is a kind of array\n * @param   { * } a - anything\n * @returns {Boolean} is 'a' an array?\n */\nfunction isArray(a) { return Array.isArray(a) || a instanceof Array }\n\n/**\n * Detect whether a property of an object could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } is this property writable?\n */\nfunction isWritable(obj, key) {\n  var props = Object.getOwnPropertyDescriptor(obj, key)\n  return typeof obj[key] === T_UNDEF || props && props.writable\n}\n\n\n/**\n * With this function we avoid that the internal Tag methods get overridden\n * @param   { Object } data - options we want to use to extend the tag instance\n * @returns { Object } clean object without containing the riot internal reserved words\n */\nfunction cleanUpData(data) {\n  if (!(data instanceof Tag) && !(data && typeof data.trigger == T_FUNCTION))\n    return data\n\n  var o = {}\n  for (var key in data) {\n    if (!contains(RESERVED_WORDS_BLACKLIST, key))\n      o[key] = data[key]\n  }\n  return o\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n */\nfunction walk(dom, fn) {\n  if (dom) {\n    // stop the recursion\n    if (fn(dom) === false) return\n    else {\n      dom = dom.firstChild\n\n      while (dom) {\n        walk(dom, fn)\n        dom = dom.nextSibling\n      }\n    }\n  }\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttributes(html, fn) {\n  var m,\n    re = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g\n\n  while (m = re.exec(html)) {\n    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n  }\n}\n\n/**\n * Check whether a DOM node is in stub mode, useful for the riot 'if' directive\n * @param   { Object }  dom - DOM node we want to parse\n * @returns { Boolean } -\n */\nfunction isInStub(dom) {\n  while (dom) {\n    if (dom.inStub) return true\n    dom = dom.parentNode\n  }\n  return false\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name) {\n  return document.createElement(name)\n}\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return (ctx || document).querySelectorAll(selector)\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Simple object prototypal inheritance\n * @param   { Object } parent - parent object\n * @returns { Object } child instance\n */\nfunction inherit(parent) {\n  function Child() {}\n  Child.prototype = parent\n  return new Child()\n}\n\n/**\n * Get the name property needed to identify a DOM node in riot\n * @param   { Object } dom - DOM node we need to parse\n * @returns { String | undefined } give us back a string to identify this dom node\n */\nfunction getNamedKey(dom) {\n  return getAttr(dom, 'id') || getAttr(dom, 'name')\n}\n\n/**\n * Set the named properties of a tag element\n * @param { Object } dom - DOM node we need to parse\n * @param { Object } parent - tag instance where the named dom element will be eventually added\n * @param { Array } keys - list of all the tag instance properties\n */\nfunction setNamed(dom, parent, keys) {\n  // get the key value we want to add to the tag instance\n  var key = getNamedKey(dom),\n    isArr,\n    // add the node detected to a tag instance using the named property\n    add = function(value) {\n      // avoid to override the tag properties already set\n      if (contains(keys, key)) return\n      // check whether this value is an array\n      isArr = isArray(value)\n      // if the key was never set\n      if (!value)\n        // set it once on the tag instance\n        parent[key] = dom\n      // if it was an array and not yet set\n      else if (!isArr || isArr && !contains(value, dom)) {\n        // add the dom node into the array\n        if (isArr)\n          value.push(dom)\n        else\n          parent[key] = [value, dom]\n      }\n    }\n\n  // skip the elements with no named properties\n  if (!key) return\n\n  // check whether this key has been already evaluated\n  if (tmpl.hasExpr(key))\n    // wait the first updated event only once\n    parent.one('mount', function() {\n      key = getNamedKey(dom)\n      add(parent[key])\n    })\n  else\n    add(parent[key])\n\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } src - source string\n * @param   { String } str - test string\n * @returns { Boolean } -\n */\nfunction startsWith(src, str) {\n  return src.slice(0, str.length) === str\n}\n\n/**\n * requestAnimationFrame function\n * Adapted from https://gist.github.com/paulirish/1579671, license MIT\n */\nvar rAF = (function (w) {\n  var raf = w.requestAnimationFrame    ||\n            w.mozRequestAnimationFrame || w.webkitRequestAnimationFrame\n\n  if (!raf || /iP(ad|hone|od).*OS 6/.test(w.navigator.userAgent)) {  // buggy iOS6\n    var lastTime = 0\n\n    raf = function (cb) {\n      var nowtime = Date.now(), timeout = Math.max(16 - (nowtime - lastTime), 0)\n      setTimeout(function () { cb(lastTime = nowtime + timeout) }, timeout)\n    }\n  }\n  return raf\n\n})(window || {})\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts) {\n  var tag = __tagImpl[tagName],\n    // cache the inner HTML to fix #855\n    innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n\n  // clear the inner html\n  root.innerHTML = ''\n\n  if (tag && root) tag = new Tag(tag, { root: root, opts: opts }, innerHTML)\n\n  if (tag && tag.mount) {\n    tag.mount()\n    // add this tag to the virtualDom variable\n    if (!contains(__virtualDom, tag)) __virtualDom.push(tag)\n  }\n\n  return tag\n}\n/**\n * Riot public api\n */\n\n// share methods for other riot parts, e.g. compiler\nriot.util = { brackets: brackets, tmpl: tmpl }\n\n/**\n * Create a mixin that could be globally shared across all the tags\n */\nriot.mixin = (function() {\n  var mixins = {}\n\n  /**\n   * Create/Return a mixin by its name\n   * @param   { String } name - mixin name (global mixin if missing)\n   * @param   { Object } mixin - mixin logic\n   * @returns { Object } the mixin logic\n   */\n  return function(name, mixin) {\n    if (isObject(name)) {\n      mixin = name\n      mixins[GLOBAL_MIXIN] = extend(mixins[GLOBAL_MIXIN] || {}, mixin)\n      return\n    }\n\n    if (!mixin) return mixins[name]\n    mixins[name] = mixin\n  }\n\n})()\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   html - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nriot.html = function(name, html, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs\n    if (/^[\\w\\-]+\\s?=/.test(css)) {\n      attrs = css\n      css = ''\n    } else attrs = ''\n  }\n  if (css) {\n    if (isFunction(css)) fn = css\n    else styleManager.add(css)\n  }\n  name = name.toLowerCase()\n  __tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   html - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nriot.html2 = function(name, html, css, attrs, fn) {\n  if (css) styleManager.add(css)\n  //if (bpair) riot.settings.brackets = bpair\n  __tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { String } selector - tag DOM selector\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nriot.mount = function(selector, tagName, opts) {\n\n  var els,\n    allTags,\n    tags = []\n\n  // helper functions\n\n  function addRiotTags(arr) {\n    var list = ''\n    each(arr, function (e) {\n      if (!/[^-\\w]/.test(e)) {\n        e = e.trim().toLowerCase()\n        list += ',[' + RIOT_TAG_IS + '=\"' + e + '\"],[' + RIOT_TAG + '=\"' + e + '\"]'\n      }\n    })\n    return list\n  }\n\n  function selectAllTags() {\n    var keys = Object.keys(__tagImpl)\n    return keys + addRiotTags(keys)\n  }\n\n  function pushTags(root) {\n    if (root.htmlName) {\n      var riotTag = getAttr(root, RIOT_TAG_IS) || getAttr(root, RIOT_TAG)\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName\n        setAttr(root, RIOT_TAG_IS, tagName)\n        setAttr(root, RIOT_TAG, tagName) // this will be removed in riot 3.0.0\n      }\n      var tag = mountTo(root, riotTag || root.htmlName.toLowerCase(), opts)\n\n      if (tag) tags.push(tag)\n    } else if (root.length) {\n      each(root, pushTags)   // assume nodeList\n    }\n  }\n\n  // ----- mount code -----\n\n  // inject styles into DOM\n  styleManager.inject()\n\n  if (isObject(tagName)) {\n    opts = tagName\n    tagName = 0\n  }\n\n  // crawl the DOM to find the tag\n  if (typeof selector === T_STRING) {\n    if (selector === '*')\n      // select all the tags registered\n      // and also the tags found with the riot-tag attribute set\n      selector = allTags = selectAllTags()\n    else\n      // or just the ones named like the selector\n      selector += addRiotTags(selector.split(/, */))\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    els = selector ? $$(selector) : []\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    els = selector\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectAllTags()\n    // if the root els it's just a single tag\n    if (els.htmlName)\n      els = $$(tagName, els)\n    else {\n      // select all the children for all the different root elements\n      var nodeList = []\n      each(els, function (_el) {\n        nodeList.push($$(tagName, _el))\n      })\n      els = nodeList\n    }\n    // get rid of the tagName\n    tagName = 0\n  }\n\n  pushTags(els)\n\n  return tags\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nriot.update = function() {\n  return each(__virtualDom, function(tag) {\n    tag.update()\n  })\n}\n\n/**\n * Export the Virtual DOM\n */\nriot.vdom = __virtualDom\n\n/**\n * Export the Tag constructor\n */\nriot.html = Tag\n  // support CommonJS, AMD & browser\n  /* istanbul ignore next */\n  if (typeof exports === T_OBJECT)\n    module.exports = riot\n  else if (\"function\" === T_FUNCTION && typeof __webpack_require__(8) !== T_UNDEF)\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return riot }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n  else\n    window.riot = riot\n\n})(typeof window != 'undefined' ? window : void 0);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/riot/riot.js\n ** module id = 7\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///../~/riot/riot.js?");
},function(module,exports){eval("/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {module.exports = __webpack_amd_options__;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, {}))\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/webpack/buildin/amd-options.js\n ** module id = 8\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///../~/webpack/buildin/amd-options.js?")},function(module,exports,__webpack_require__){eval('!function(t,e){if(true)module.exports=e(__webpack_require__(7));else if("function"==typeof define&&define.amd)define(["riot"],e);else{var r=e("object"==typeof exports?require("riot"):t.riot);for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){function n(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var o,i,u;!function(n,s){i=[t,r(1),r(2)],o=s,u="function"==typeof o?o.apply(e,i):o,!(void 0!==u&&(t.exports=u))}(this,function(t,e,r){function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(n=(u=s.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(a){o=!0,i=a}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function x(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:x(o,e,r)}if("value"in n)return n.value;var i=n.get;return void 0===i?void 0:i.call(r)},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=console&&console.error||function(){},f=function(){function t(){u(this,t),e.router=this,e.observable(this),this.interceptors=[this.processRoute.bind(this)],this.handler=new v,this.current=new p("").response,this.process=this.process.bind(this)}return c(t,[{key:"route",value:function(t){this.handler=t}},{key:"routes",value:function(t){this.route((new v).routes(t))}},{key:"use",value:function(t){this.interceptors.push(t)}},{key:"process",value:function(){var t=Array.prototype.slice.call(arguments),e=t.join("/");"/"!==e[0]&&(e="/"+e);var r=new p(e);return this.rootContext||(this.rootContext=r),this.processRequest(r),r}},{key:"processRequest",value:function(t){return this.processInterceptors(t),this.processResponse(t)}},{key:"processResponse",value:function(t){if(this.isRedirect(t))return this.processRedirect(t);var e=(t.request,t.response);return e.redirectTo?void 0:(this.current=e,this.rootContext=null,this.trigger("route:updated",e),t)}},{key:"isRedirect",value:function(t){return!!t.response.redirectTo}},{key:"processRedirect",value:function(t){var e=t.response.redirectTo;this.rootContext.addRedirect(e),this.navigateTo(e)}},{key:"navigateTo",value:function(t){e.route(t)}},{key:"processInterceptors",value:function(t,e,r){var n=(e||[]).concat(this.interceptors).concat(r||[]),o=function i(){if(!t.stop){var e=n.shift(),r=t.request,o=t.response;if(e)return e(r,o,i,t)}return t};return o()}},{key:"processRoute",value:function(t,e,r,n){return this.handler.process(t,e,n),r()}},{key:"start",value:function(){e.route(this.process),e.route.start(),this.exec()}},{key:"exec",value:function(){e.route.exec(this.process)}}]),t}(),p=function(){function t(e){u(this,t),this.request="string"==typeof e?new k(e):e,this.response=new O(this.request),this.redirectStack=[]}return c(t,[{key:"addRedirect",value:function(t){if(this.redirectStack.indexOf(t)>-1)throw new Error("Cyclic redirection to "+t+". Stack = "+this.redirectStack);this.redirectStack.push(t)}}]),t}(),l=function(){function t(){u(this,t)}return c(t,[{key:"matches",value:function(t){return!1}},{key:"process",value:function(t,e){var r=this.matches(t);return r?this.routeMatch(t,e,r):this.routeMiss(t,e)}},{key:"routeMatch",value:function(t,e,r){return e.add(r),!0}},{key:"routeMiss",value:function(t,e){return!1}},{key:"processRoutes",value:function(t,e,r){if(r&&r.length){for(var n=r.length,o=0;n>o;o++){var i=r[o];if(i.process(t,e))return!0}return!1}}},{key:"createRequest",value:function(t,e){return new y(t,e)}}]),t}(),d=function(t){function e(t){u(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t));t=t||{},r.html=t.html,r.api=t.api,r.path=t.path,r.name=t.name,r.updatable=t.updatable,r.pathParameterNames=[];var n=r.getPath().replace(/^\\//,"");return r.pattern="^/?"+n.replace(/:([^\\/]+)/g,function(t,e){return this.pathParameterNames.push(e),"([^/]+)"}.bind(r))+"(:?/|$)",r.regex=new RegExp(r.pattern),r}return i(e,t),c(e,[{key:"routes",value:function(t){var e=t.filter(function(t){return t instanceof m}),r=t.filter(function(t){return t instanceof b}),n=t.filter(function(t){return t instanceof g}),o=t.filter(function(t){return-1===e.indexOf(t)&&-1===r.indexOf(t)&&-1===n.indexOf(t)});return n.length>1&&h("Can\'t use more than one NotFoundRoute per route. --> "+this.getPath()),r.length>1&&h("Can\'t use more than one DefaultRoute per route. --> "+this.getPath()),this._routes=[].concat(e).concat(o).concat(r).concat(n),this}},{key:"matches",value:function(t){var e=this.regex.exec(t.uri);if(e){var r={};for(var n in this.pathParameterNames){var o=this.pathParameterNames[n];r[o]=decodeURIComponent(e[parseInt(n,10)+1])}return{route:this,tag:this.html,api:this.api,found:e[0],params:r}}return!1}},{key:"routeMatch",value:function(t,r,n){var o=a(Object.getPrototypeOf(e.prototype),"routeMatch",this).call(this,t,r,n);return this.processRoutes(t,r,n),o}},{key:"processRoutes",value:function(t,r,n){return a(Object.getPrototypeOf(e.prototype),"processRoutes",this).call(this,this.createRequest(t,n),r,this._routes)}},{key:"getPath",value:function(){return this.name||this.path||("string"==typeof this.html?this.html:"")}}]),e}(l),v=function(t){function e(){return u(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return i(e,t),e}(d),y=function j(t,e){u(this,j),this.request=t,this.matcher=e,this.uri=this.request.uri.substring(e.found.length),this.parentUri=this.request.uri.substring(0,e.found.length)},g=function(t){function e(t){u(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t));return t=t||{},r.html=t.html,r.api=t.api,r}return i(e,t),c(e,[{key:"matches",value:function(t){return{route:this,tag:this.html,api:this.api,found:t.uri}}}]),e}(l),m=function(t){function e(t){u(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t));return t=t||{},r.from=t.from,r.to=t.to,r.pattern="(^/?)"+r.from+"(/|$)",r.regex=new RegExp(r.pattern),r}return i(e,t),c(e,[{key:"process",value:function(t,e){var r=t.uri.replace(this.regex,"$1"+this.to+"$2");if(r!==t.uri){var n=t.parentUri||"";return e.redirectTo=n+r,!0}}}]),e}(l),b=function(t){function e(t){u(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t));return t=t||{},r.html=t.html,r.api=t.api,r}return i(e,t),c(e,[{key:"matches",value:function(t){var e=t.uri.trim();return"/"===e||""===e?{route:this,tag:this.html,api:this.api,found:e}:void 0}}]),e}(l),k=function w(t){u(this,w),this.uri=t},O=function(){function t(e){u(this,t),this.uri=e.uri,this.matches=[],this.params={}}return c(t,[{key:"add",value:function(t){this.matches.push(t);var e=t.params;if(e)for(var r in e)e.hasOwnProperty(r)&&(this.params[r]=e[r])}},{key:"get",value:function(t){return this.matches[t]}},{key:"size",value:function(){return this.matches.length}},{key:"isEmpty",value:function(){return this.matches.length}}]),t}();e.html("route","<router-content></router-content>",function(t){this.calculateLevel=function(t){var e=0;return t.parent&&(e+=this.calculateLevel(t.parent)),t.opts.__router_level&&(e+=t.opts.__router_level),t.__router_tag&&(e+=1),e}.bind(this),this.normalizeTag=function(t,e,r){var n=t(e,r);return"string"==typeof n?t=n:(t=n.html||t,e=n.api||e),[t,e,r]},this.unmountTag=function(){this.instance&&this.instance.unmount(!0)},this.mountTag=function(t,r,n){if("function"==typeof t){var o=this.normalizeTag(t,r,n),i=s(o,3);t=i[0],r=i[1],n=i[2]}this.canUpdate(t,r,n)?this.instance.update(r):(this.unmountTag(),t&&(this.root.replaceChild(document.createElement(t),this.root.children[0]),this.instance=e.mount(this.root.children[0],t,r)[0],this.instanceTag=t,this.instanceApi=r))},this.canUpdate=function(r,n,o){return(e.router.config.updatable||t.updatable||o.updatable)&&this.instance&&this.instance.isMounted&&this.instanceTag===r?!0:!1},this.updateRoute=function(){var t={tag:null};if(e.router&&e.router.current){var n=e.router.current;if(this.level<=n.size()){var o=n.get(this.level);if(o){var i=o.params||{},u=r(!0,{},o.api,i,{__router_level:this.level});t={tag:o.html,api:u,updatable:o.route.updatable}}}}t.html?this.mountTag(t.html,t.api,t):this.unmountTag()}.bind(this),this.__router_tag="route",this.level=this.calculateLevel(this),e.router.on("route:updated",this.updateRoute),this.on("unmount",function(){e.router.off("route:updated",this.updateRoute),this.unmountTag()}.bind(this)),this.on("mount",function(){this.updateRoute()}.bind(this))});var R=new f;R.Route=d,R.DefaultRoute=b,R.RedirectRoute=m,R.NotFoundRoute=g,R._={Response:O,Request:k},R.config={updatable:!1},e.router=R,t.exports=R})},function(e,r){e.exports=t},function(t,e){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===n.call(t)},i=function(t){if(!t||"[object Object]"!==n.call(t))return!1;var e=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!o)return!1;var i;for(i in t);return"undefined"==typeof i||r.call(t,i)};t.exports=function u(){var t,e,r,n,s,a,c=arguments[0],h=1,f=arguments.length,p=!1;for("boolean"==typeof c?(p=c,c=arguments[1]||{},h=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});f>h;++h)if(t=arguments[h],null!=t)for(e in t)r=c[e],n=t[e],c!==n&&(p&&n&&(i(n)||(s=o(n)))?(s?(s=!1,a=r&&o(r)?r:[]):a=r&&i(r)?r:{},c[e]=u(p,a,n)):"undefined"!=typeof n&&(c[e]=n));return c}}])});\n//# sourceMappingURL=router.min.js.map\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/riot-router/lib/router.min.js\n ** module id = 9\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///../~/riot-router/lib/router.min.js?')},function(module,exports,__webpack_require__){eval("\n/*\n** This file contains all flux implementation of dispatcher\n** \n** \n*/\n'use strict';\n\nvar RiotControl = {\n  _stores: [],\n  addStore: function addStore(store) {\n    this._stores.push(store);\n  }\n};\n\n['on', 'one', 'off', 'trigger'].forEach(function (api) {\n  RiotControl[api] = function () {\n    var args = [].slice.call(arguments);\n    if (api === 'trigger') {\n      console.log(\"                     \");\n      console.log(\"***** EMITTING *****\");\n      console.log(args);\n    }\n\n    if (api === 'on') {\n      console.log(\"                     \");\n      console.log(\">>>>>>>> CAUGHT >>>>>>>>\");\n      console.log(args);\n    }\n    this._stores.forEach(function (el) {\n      el[api].apply(el, args);\n    });\n  };\n});\n\nif (true) module.exports = RiotControl;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/riot-control.js\n ** module id = 10\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./lib/riot-control.js?")},function(module,exports,__webpack_require__){eval("'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _event_constants = __webpack_require__(12);\n\nvar _event_constants2 = _interopRequireDefault(_event_constants);\n\nvar _reactCookie = __webpack_require__(13);\n\nvar _reactCookie2 = _interopRequireDefault(_reactCookie);\n\nvar _libUtils = __webpack_require__(15);\n\nvar _libUtils2 = _interopRequireDefault(_libUtils);\n\nvar AppStore = function AppStore() {\n  if (!(this instanceof AppStore)) return new AppStore();\n\n  _riot2['default'].observable(this);\n\n  var self = this;\n  self.events = [];\n\n  var _defaults = {\n    username: \"\",\n    messages: [],\n    oldMessages: [],\n    userDisplayName: _reactCookie2['default'].load('userDisplayName') ? decodeURIComponent(_reactCookie2['default'].load('userDisplayName')) : '',\n    userProviderName: _reactCookie2['default'].load('userProviderName') ? decodeURIComponent(_reactCookie2['default'].load('userProviderName')) : '',\n    userProvider: _reactCookie2['default'].load('userProvider'),\n    socket: \"\",\n    sendVal: \"\",\n    cid: _libUtils2['default'].getParameterByName('cid') || '',\n    userFriendsArray: _reactCookie2['default'].load('user_friends') ? JSON.parse(decodeURIComponent(_reactCookie2['default'].load('user_friends'))) : [],\n    userproviderId: _reactCookie2['default'].load('userproviderId'),\n    userProfileImage: _reactCookie2['default'].load('userProfileImage') ? decodeURIComponent(_reactCookie2['default'].load('userProfileImage')) : 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/chat_avatar_10.jpg',\n    prepared: false,\n    vendorId: \"\",\n    channelName: \"\",\n    channelUrl: \"\",\n    channelText: \"\",\n    linkUrl: \"\",\n    users: []\n  };\n\n  // utility function\n  self.setState = function (update_obj) {\n    for (var key in update_obj) {\n      self[key] = update_obj[key];\n    };\n  };\n\n  self.on(_event_constants2['default'].GET_USERS_DATA_FOR_CHANNEL, function (data) {\n    $.ajax({\n      url: '/api/users/' + data.cid,\n      cache: false\n    }).done(function (users_of_channel) {\n      self.state.users = self.state.userDatapassed = users_of_channel;\n      // riot.control.trigger(EVT.GET_USERS_DATA_FOR_CHANNEL_SUCCESS, users_of_channel);\n    });\n  });\n\n  self.on(_event_constants2['default'].UPDATE_SCREEN_FOR_CHANNEL, function (message) {\n    if (!message.user || message.user !== self.state.userProviderName) {\n      self.state.userDatapassed = self.state.userDatapassed || self.state.users || [];\n      self.state.userDatapassed.push({\n        _id: message.vendorId || self.state.vendorId,\n        user: message.user || self.state.userProviderName,\n        userProfileImage: message.userProfileImage || self.state.userProfileImage,\n        vendorId: message.vendorId || self.state.vendorId\n      });\n\n      self.state.users = self.state.userDatapassed;\n      self.state.vendorId = message.vendorId;\n      self.state.userDatapassed = self.state.userDatapassed;\n    }\n\n    if (!message.user || message.user === self.state.userProviderName) {\n      console.log(\">>>>> first >>>message  \", message);\n      self.state.messages = self.state.messages || [];\n      self.state.messages.push({\n        user: message.user || self.state.userProviderName,\n        message: (message.user || self.state.userProviderName) + ' joined ... ',\n        time: (new Date(message.time) || new Date()).toString(\"HH:mm:ss\"),\n        first: true\n      });\n      // riot.control.trigger(EVT.SCREEN_UPDATE_EVENT, {});\n    }\n    // debugger;\n    _riot2['default'].control.trigger(_event_constants2['default'].UPDATE_SCREEN_FOR_CHANNEL_SUCCESS, self.state);\n  });\n\n  self.on(_event_constants2['default'].CHANGE_CHANNEL, function (data) {\n    self.state = _defaults;\n    self.state.messages = [];\n    renderChannelListeners.call(self, data.cid, false);\n  });\n\n  // loaded-chat-panel event handler\n  self.on(_event_constants2['default'].INIT_CHAT_CONTAINER, function (data) {\n\n    console.log(\"STARTED CHAT CONTAINER\");\n    self.state = _defaults;\n\n    if (!self.state.socket && self.state.userProviderName) {\n      // debugger;\n      var $this = self;\n      self.state.username = self.state.userProviderName || self.state.userDisplayName || self.state.userDisplayName || self.username;\n      // setTimeout(function() {\n      renderChannelListeners.call(self, self.state.cid, true);\n      console.log('chat container loaded >>> appstate >>>> ', self.state);\n      _riot2['default'].control.trigger(_event_constants2['default'].CHAT_SESSION_STARTED, self.state);\n    } else {\n      _riot2['default'].control.trigger(_event_constants2['default'].AUTH_NEEDED, { authstatus: false });\n    }\n  });\n};\n\nfunction renderChannelListeners(cid, override) {\n  var $this = this;\n\n  if ($this.state.socket && $this.state.socket.connected) {\n    $this.state.socket.close();\n  }\n\n  var host = window.location.host;\n  $this.state.socket = $this.state.socket || io;\n  $this.state.socket = $this.state.socket.connect('http://' + host, {\n    query: 'cid=' + cid + '&selected_text=A random palceholder text generated in place of highlighted text that will be selected from the article. &original_link=http://tadeuzagallo.com/blog/react-native-bridge/'\n  });\n\n  $this.state.socket.on('channelCreated', function (msg) {\n    // console.log(' channel create ',msg);\n    var message = $.evalJSON(msg);\n    if (_libUtils2['default'].getParameterByName('cid')) {\n      if (_libUtils2['default'].getParameterByName('cid') == message.newChannel && !override) {\n        cid = _libUtils2['default'].getParameterByName('cid') || message.newChannel;\n      } else {\n        cid = message.newChannel || cid;\n      }\n    } else {\n      cid = message.newChannel || cid;\n    }\n\n    $this.state.channelName = message.newChannel;\n    $this.state.cid = cid;\n    $this.state.channelUrl = 'http://' + host + '/?cid=' + message.newChannel;\n    $this.setState({\n      channelName: $this.state.cid,\n      channelUrl: $this.state.channelUrl,\n      cid: $this.state.channelName\n    });\n\n    _riot2['default'].control.trigger(_event_constants2['default'].UPDATE_SCREEN_FOR_CHANNEL, $this.state);\n\n    if (override) {\n      _riot2['default'].control.trigger(_event_constants2['default'].GET_USERS_DATA_FOR_CHANNEL, {\n        cid: $this.state.cid\n      });\n      _riot2['default'].control.trigger(_event_constants2['default'].UPDATE_RIGHT_PANEL_FOR_CHANNEL, $this.state);\n\n      if ($this.state && $this.state.username) {\n        $.ajax({\n          url: '/api/channels/' + $this.state.username,\n          data: 'json',\n          cache: true\n        }).done(function (discussionsList) {\n          _riot2['default'].control.trigger(_event_constants2['default'].UPDATE_DISCUSSIONS_LIST, { discussionsList: discussionsList, cid: $this.state.cid });\n        });\n      }\n    }\n  });\n\n  $this.state.socket.on('olderMessagesFound', function (messages) {\n    $this.state.oldMessages = messages;\n    $this.setState({\n      oldMessages: $this.state.oldMessages\n    });\n\n    $.ajax({\n      url: '/api/social_connections',\n      data: 'json',\n      cache: false\n    }).done(function (response) {\n      var arr_of_users = [];\n      if (response.tw) {\n        for (var i = response.tw.length - 1; i >= 0; i--) {\n          arr_of_users.push({\n            username: response.tw[i].screen_name,\n            name: response.tw[i].name,\n            image: 'http://placekitten.com/25/22'\n          });\n        };\n\n        $(\"#message-to-send\").mention({\n          users: arr_of_users\n        });\n        _riot2['default'].control.trigger(_event_constants2['default'].CHAT_SESSION_STARTED, {});\n      }\n    });\n  });\n\n  $this.state.socket.on('chat-' + $this.state.cid, function (msg) {\n    var message = $.evalJSON(msg);\n    if (message) {\n      var action = message.action;\n      switch (action) {\n        case 'message':\n          if ($this.state && message.user !== $this.state.username) {\n            // console.log(\"$this.state.username \", $this.state.username);\n            var matches;\n            // someone starts chat with /me ...\n            $this.state.messages.push({\n              user: message.user,\n              message: message.msg,\n              time: new Date().toString(\"HH:mm:ss\"),\n              first: false\n            });\n            _riot2['default'].control.trigger(_event_constants2['default'].SCREEN_UPDATE_EVENT, {});\n            $this.setState({\n              tempVal: ''\n            });\n            _riot2['default'].control.trigger(_event_constants2['default'].CHAT_SESSION_STARTED, {});\n          }\n          break;\n        case 'control':\n          break;\n\n      }\n    }\n\n    // debugger;\n    // $(\"div.chat-history\").scrollTop(167 * $(\"div.chat-history li\").length)\n    var d = document.querySelector('.chat-history');\n    d.scrollTop = d.scrollHeight;\n  });\n\n  // $this.state.socket.on('authneeded', function(msg) {\n  //   console.log(' NO user , please login  ', msg);\n  //   $this.setState({\n  //     \"username\": ''\n  //   });\n  //   $this.setState({\n  //     \"userProviderName\": ''\n  //   });\n  //   $this.setState({\n  //     \"userDisplayName\": ''\n  //   });\n\n  //   cookie.remove('user_friends');\n  //   cookie.remove('userDisplayName');\n  //   cookie.remove('userProviderName');\n  //   cookie.remove('userProvider');\n  //   cookie.remove('userproviderId');\n  //   cookie.remove('userProfileImage');\n  // });\n}\n\nmodule.exports = AppStore;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./state-manager/app-store.js\n ** module id = 11\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./state-manager/app-store.js?")},function(module,exports){eval('"use strict";\n\nmodule.exports = {\n	INIT_CHAT_CONTAINER: "INIT_CHAT_CONTAINER",\n	INIT_CHAT_CONTAINER_SUCCESS: "INIT_CHAT_CONTAINER_SUCCESS",\n	INIT_CONNECTION_MADE: "INIT_CONNECTION_MADE",\n	CHAT_SESSION_STARTED: "CHAT_SESSION_STARTED",\n	GET_USERS_DATA_FOR_CHANNEL: "GET_USERS_DATA_FOR_CHANNEL_SUCCESS",\n	GET_USERS_DATA_FOR_CHANNEL_SUCCESS: "GET_USERS_DATA_FOR_CHANNEL_SUCCESS",\n	UPDATE_SCREEN_FOR_CHANNEL_SUCCESS: "UPDATE_SCREEN_FOR_CHANNEL_SUCCESS",\n	UPDATE_SCREEN_FOR_CHANNEL: "UPDATE_SCREEN_FOR_CHANNEL",\n	SCREEN_UPDATE_EVENT: "SCREEN_UPDATE_EVENT",\n	UPDATE_DISCUSSIONS_LIST: "UPDATE_DISCUSSIONS_LIST",\n	UPDATE_RIGHT_PANEL_FOR_CHANNEL: "UPDATE_RIGHT_PANEL_FOR_CHANNEL",\n	CHANGE_CHANNEL: "CHANGE_CHANNEL",\n	AUTH_NEEDED: "AUTH_NEEDED"\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./state-manager/event_constants.js\n ** module id = 12\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./state-manager/event_constants.js?')},function(module,exports,__webpack_require__){eval("var cookie = __webpack_require__(14);\n\nvar _rawCookie = {};\nvar _res = undefined;\n\nfunction load(name, doNotParse) {\n  var cookies = (typeof document === 'undefined') ? _rawCookie : cookie.parse(document.cookie);\n  var cookieVal = cookies && cookies[name];\n\n  if (!doNotParse) {\n    try {\n      cookieVal = JSON.parse(cookieVal);\n    } catch(e) {\n      // Not serialized object\n    }\n  }\n\n  return cookieVal;\n}\n\nfunction save(name, val, opt) {\n  _rawCookie[name] = val;\n\n  // allow you to work with cookies as objects.\n  if (typeof val === 'object') {\n    _rawCookie[name] = JSON.stringify(val);\n  }\n\n  // Cookies only work in the browser\n  if (typeof document !== 'undefined') {\n    document.cookie = cookie.serialize(name, _rawCookie[name], opt);\n  }\n\n  if (_res && _res.cookie) {\n    _res.cookie(name, val, opt);\n  }\n}\n\nfunction remove(name, opt) {\n  delete _rawCookie[name];\n\n  if (typeof opt === 'undefined') {\n    opt = {};\n  } else if (typeof opt === 'string') {\n    // Will be deprecated in future versions\n    opt = { path: opt };\n  }\n\n  if (typeof document !== 'undefined') {\n    opt.expires = new Date(1970, 1, 1, 0, 0, 1);\n    document.cookie = cookie.serialize(name, '', opt);\n  }\n\n  if (_res && _res.clearCookie) {\n    _res.clearCookie(name, opt);\n  }\n}\n\nfunction setRawCookie(rawCookie) {\n  if (rawCookie) {\n    _rawCookie = cookie.parse(rawCookie);\n  } else {\n    _rawCookie = {};\n  }\n}\n\nfunction plugToRequest(req, res) {\n  if (req.cookie) {\n    _rawCookie = req.cookie;\n  } else if (req.headers && req.headers.cookie) {\n    setRawCookie(req.headers.cookie);\n  } else {\n    _rawCookie = {};\n  }\n\n  _res = res;\n}\n\nvar reactCookie = {\n  load: load,\n  save: save,\n  remove: remove,\n  setRawCookie: setRawCookie,\n  plugToRequest: plugToRequest\n};\n\nif (typeof window !== 'undefined') {\n  window['reactCookie'] = reactCookie;\n}\n\nmodule.exports = reactCookie;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/react-cookie/index.js\n ** module id = 13\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///../~/react-cookie/index.js?")},function(module,exports){eval("/*!\r\n * cookie\r\n * Copyright(c) 2012-2014 Roman Shtylman\r\n * Copyright(c) 2015 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nexports.parse = parse;\r\nexports.serialize = serialize;\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar decode = decodeURIComponent;\r\nvar encode = encodeURIComponent;\r\n\r\n/**\r\n * RegExp to match field-content in RFC 7230 sec 3.2\r\n *\r\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\r\n * field-vchar   = VCHAR / obs-text\r\n * obs-text      = %x80-FF\r\n */\r\n\r\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\r\n\r\n/**\r\n * Parse a cookie header.\r\n *\r\n * Parse the given cookie header string into an object\r\n * The object has the various cookies as keys(names) => values\r\n *\r\n * @param {string} str\r\n * @param {object} [options]\r\n * @return {object}\r\n * @public\r\n */\r\n\r\nfunction parse(str, options) {\r\n  if (typeof str !== 'string') {\r\n    throw new TypeError('argument str must be a string');\r\n  }\r\n\r\n  var obj = {}\r\n  var opt = options || {};\r\n  var pairs = str.split(/; */);\r\n  var dec = opt.decode || decode;\r\n\r\n  pairs.forEach(function(pair) {\r\n    var eq_idx = pair.indexOf('=')\r\n\r\n    // skip things that don't look like key=value\r\n    if (eq_idx < 0) {\r\n      return;\r\n    }\r\n\r\n    var key = pair.substr(0, eq_idx).trim()\r\n    var val = pair.substr(++eq_idx, pair.length).trim();\r\n\r\n    // quoted values\r\n    if ('\"' == val[0]) {\r\n      val = val.slice(1, -1);\r\n    }\r\n\r\n    // only assign once\r\n    if (undefined == obj[key]) {\r\n      obj[key] = tryDecode(val, dec);\r\n    }\r\n  });\r\n\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Serialize data into a cookie header.\r\n *\r\n * Serialize the a name value pair into a cookie string suitable for\r\n * http headers. An optional options object specified cookie parameters.\r\n *\r\n * serialize('foo', 'bar', { httpOnly: true })\r\n *   => \"foo=bar; httpOnly\"\r\n *\r\n * @param {string} name\r\n * @param {string} val\r\n * @param {object} [options]\r\n * @return {string}\r\n * @public\r\n */\r\n\r\nfunction serialize(name, val, options) {\r\n  var opt = options || {};\r\n  var enc = opt.encode || encode;\r\n\r\n  if (!fieldContentRegExp.test(name)) {\r\n    throw new TypeError('argument name is invalid');\r\n  }\r\n\r\n  var value = enc(val);\r\n\r\n  if (value && !fieldContentRegExp.test(value)) {\r\n    throw new TypeError('argument val is invalid');\r\n  }\r\n\r\n  var pairs = [name + '=' + value];\r\n\r\n  if (null != opt.maxAge) {\r\n    var maxAge = opt.maxAge - 0;\r\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\r\n    pairs.push('Max-Age=' + maxAge);\r\n  }\r\n\r\n  if (opt.domain) {\r\n    if (!fieldContentRegExp.test(opt.domain)) {\r\n      throw new TypeError('option domain is invalid');\r\n    }\r\n\r\n    pairs.push('Domain=' + opt.domain);\r\n  }\r\n\r\n  if (opt.path) {\r\n    if (!fieldContentRegExp.test(opt.path)) {\r\n      throw new TypeError('option path is invalid');\r\n    }\r\n\r\n    pairs.push('Path=' + opt.path);\r\n  }\r\n\r\n  if (opt.expires) pairs.push('Expires=' + opt.expires.toUTCString());\r\n  if (opt.httpOnly) pairs.push('HttpOnly');\r\n  if (opt.secure) pairs.push('Secure');\r\n\r\n  return pairs.join('; ');\r\n}\r\n\r\n/**\r\n * Try decoding a string using a decoding function.\r\n *\r\n * @param {string} str\r\n * @param {function} decode\r\n * @private\r\n */\r\n\r\nfunction tryDecode(str, decode) {\r\n  try {\r\n    return decode(str);\r\n  } catch (e) {\r\n    return str;\r\n  }\r\n}\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/react-cookie/~/cookie/index.js\n ** module id = 14\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///../~/react-cookie/~/cookie/index.js?")},function(module,exports){eval("\"use strict\";\n\nmodule.exports = {\n  getParameterByName: function getParameterByName(name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n        results = regex.exec(location.search);\n    return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n  },\n\n  updateQueryString: function updateQueryString(key, value, options) {\n    if (!options) options = {};\n\n    var url = options.url || location.href;\n    var re = new RegExp(\"([?&])\" + key + \"=.*?(&|#|$)(.*)\", \"gi\"),\n        hash = undefined;\n\n    hash = url.split('#');\n    url = hash[0];\n    if (re.test(url)) {\n      if (typeof value !== 'undefined' && value !== null) {\n        url = url.replace(re, '$1' + key + \"=\" + value + '$2$3');\n      } else {\n        url = url.replace(re, '$1$3').replace(/(&|\\?)$/, '');\n      }\n    } else if (typeof value !== 'undefined' && value !== null) {\n      var separator = url.indexOf('?') !== -1 ? '&' : '?';\n      url = url + separator + key + '=' + value;\n    }\n\n    if ((typeof options.hash === 'undefined' || options.hash) && typeof hash[1] !== 'undefined' && hash[1] !== null) url += '#' + hash[1];\n    return url;\n  }\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/utils.js\n ** module id = 15\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./lib/utils.js?")},function(module,exports,__webpack_require__){eval('var map = {\n	"./home/appbrowser.html": 17,\n	"./home/footertag.html": 18,\n	"./home/fstag.html": 19,\n	"./home/headertag.html": 20,\n	"./home/helloapp.html": 21,\n	"./home/home.html": 22,\n	"./home/riot-app-help.html": 24,\n	"./home/riot-app-main.html": 25,\n	"./home/riot-app-navi.html": 26,\n	"./home/riot-app-test.html": 27,\n	"./home/testapp.html": 28\n};\nfunction webpackContext(req) {\n	return __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n	return map[req] || (function() { throw new Error("Cannot find module \'" + req + "\'.") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n	return Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 16;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views ^\\.\\/.*\\.html$\n ** module id = 16\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views_^\\.\\/.*\\.html$?')},function(module,exports,__webpack_require__){eval("'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _stateManagerEvent_constants = __webpack_require__(12);\n\nvar _stateManagerEvent_constants2 = _interopRequireDefault(_stateManagerEvent_constants);\n\n_riot2['default'].html2('appbrowser', '<link href=\"http://materializecss.com/css/prism.css\" rel=\"stylesheet\"> <link href=\"http://materializecss.com/css/ghpages-materialize.css\" type=\"text/css\" rel=\"stylesheet\" media=\"screen,projection\"> <link href=\"http://fonts.googleapis.com/css?family=Inconsolata\" rel=\"stylesheet\" type=\"text/css\"> <link href=\"http://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\"> <section> <div class=\"section white container\" id=\"container-app\" style=\"margin: 0;padding: 0;padding-bottom: 20;\"> <div> <div id=\"selectAppDiv\"> <span><button id=\"existingAppBtn\" class=\"dropdown-button btn\" data-activates=\"app-selector\">Existing App</button> </span> <span><button id=\"createAppBtn\" class=\"btn\" onclick=\"{processAppCreate}\">Create App</button></span> </div> <ul id=\"app-selector\" class=\"dropdown-content\"> <li each=\"{app_items}\"> <a href=\"#!\" data-appid=\"{app_id}\" onclick=\"{processAppSelect}\">{app_name}</a> </li> </ul> <div id=\"createAppDiv\"> <input id=\"createAppInput\" class=\"input\" placeholder=\"New App name\"> <button id=\"createRollbackAppBtn\" class=\"btn\" onclick=\"{resetAppCreate}\">Reset</button> <button id=\"createConfirmAppBtn\" class=\"btn\" onclick=\"{submitAppCreate}\">Submit</button> </div> <div id=\"appMessageDiv\"> <div if=\"{created_app_name || selected_app_name}\"> <p>App is <a href=\"#!app?app_id={selected_app || created_app}\">{selected_app_name || created_app_name}</a></p> <button class=\"btn\" data-app_id=\"{selected_app || created_app}\" data-app_name=\"{created_app_name || selected_app_name}\" onclick=\"{deleteApp}\">Delete App</button> <button class=\"btn\" data-app_id=\"{selected_app || created_app}\" data-app_name=\"{created_app_name || selected_app_name}\" onclick=\"{goToApp}\">Select App</button> </div> </div> </div> </div> </section>', '.container { width: 450px; height: 400px; } #selectedAppDiv { margin:5vh; padding: 2vh; width: 100%; } #selectAppDiv { margin:5vh; padding: 2vh; width: 100%; } #createAppDiv { z-index: 11111; top: 20%; margin-left: 5vh; padding: 2vh; width: 100%; position: absolute; } #appMessageDiv { z-index: 11; top: 30%; margin-left: 5vh; padding: 2vh; width: 100%; position: absolute; } #createAppBtn { margin-top:5vh; }', 'header=\"false\" nofooter=\"false\"', function (opts) {\n  var self = this;\n  self.mode = '';\n  self.selected_app = '';\n  self.selected_app_name = '';\n  self.created_app = '';\n  self.created_app_name = '';\n\n  setTimeout(function () {\n    _riot2['default'].control.trigger(_stateManagerEvent_constants2['default'].INIT_CHAT_CONTAINER, { \"a\": \"b\" });\n  }, 2500);\n\n  self.on('mount', function () {\n\n    self.root.querySelector('#createAppBtn').style.display = 'block';\n    self.root.querySelector('#existingAppBtn').style.display = 'block';\n    self.root.querySelector('#createAppDiv').style.display = 'none';\n\n    setTimeout(function () {\n\n      self.app_items = [{ app_name: 'rioter-one', app_id: '1' }, { app_name: 'rioter-two', app_id: '2' }, { app_name: 'rioter-three', app_id: '3' }];\n      self.update();\n      $('#app-selector').dropdown({\n        inDuration: 300,\n        outDuration: 225,\n        constrain_width: false,\n        hover: true,\n        gutter: 0,\n        belowOrigin: false,\n        alignment: 'left'\n      });\n    }, 1000);\n  });\n  this.processAppSelect = (function (e) {\n    var target = e.target;\n    self.selected_app = target.getAttribute('data-appid');\n    self.selected_app_name = target.innerHTML;\n    self.created_app = '';\n    self.created_app_name = '';\n    self.root.querySelector('#appMessageDiv').style.display = 'block';\n\n    self.update();\n  }).bind(this);\n\n  this.processAppCreate = (function (e) {\n    var target = e.target;\n    self.root.querySelector('#createAppDiv').style.display = 'block';\n    self.root.querySelector('#appMessageDiv').style.display = 'none';\n    self.root.querySelector('#existingAppBtn').style.display = 'none';\n    self.update();\n  }).bind(this);\n\n  this.submitAppCreate = (function (e) {\n    var target = e.target;\n    self.mode = 'created';\n    self.created_app_name = self.root.querySelector('#createAppInput').value;\n    self.created_app = '4';\n    self.selected_app = '';\n    self.selected_app_name = '';\n    self.app_items.push({ app_name: self.root.querySelector('#createAppInput').value, app_id: '4' });\n\n    self.root.querySelector('#appMessageDiv').style.display = 'block';\n    self.root.querySelector('#createAppDiv').style.display = 'none';\n\n    self.root.querySelector('#existingAppBtn').style.display = 'block';\n  }).bind(this);\n\n  this.resetAppCreate = (function (e) {\n    var target = e.target;\n    self.mode = '';\n    self.created_app_name = '';\n    self.created_app = '';\n    self.selected_app = '';\n    self.selected_app_name = '';\n    self.root.querySelector('#appMessageDiv').style.display = 'block';\n    self.root.querySelector('#createAppDiv').style.display = 'none';\n\n    self.root.querySelector('#existingAppBtn').style.display = 'block';\n  }).bind(this);\n\n  this.processAppSelection = (function (e) {\n    var target = e.target;\n    self.mode = 'selected';\n    self.selected_app = target.getAttribute('data-appid');\n    self.selected_app_name = target.getAttribute('data-app_name');\n    self.created_app_name = '';\n    self.created_app = '';\n    self.root.querySelector('#createAppDiv').style.display = 'block';\n    self.root.querySelector('#appMessageDiv').style.display = 'block';\n    self.root.querySelector('#existingAppBtn').style.display = 'none';\n    self.update();\n  }).bind(this);\n\n  this.processAppDeletion = (function (e) {\n    var target = e.target;\n    self.selected_app = target.getAttribute('data-appid');\n    self.selected_app_name = target.innerHTML;\n    self.created_app_name = '';\n    self.created_app = '';\n    self.root.querySelector('#createAppDiv').style.display = 'block';\n\n    self.root.querySelector('#existingAppBtn').style.display = 'none';\n    self.update();\n  }).bind(this);\n\n  this.deleteApp = (function (e) {\n    var target = e.target;\n    self[self.mode + '_app'] = target.getAttribute('data-app_id');\n    self[self.mode + '_app_name'] = target.getAttribute('data-app_name');\n\n    debugger;\n  }).bind(this);\n\n  this.goToApp = (function (e) {\n    var target = e.target;\n    self[self.mode + '_app'] = target.getAttribute('data-app_id');\n    self[self.mode + '_app_name'] = target.getAttribute('data-app_name');\n\n    debugger;\n  }).bind(this);\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/appbrowser.html\n ** module id = 17\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/appbrowser.html?");
},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\n_riot2[\'default\'].html2(\'footertag\', \'<footer class="page-footer"> <div class="container"> <div class="row"> <div class="col l4 s12"> <h5 class="white-text">Dummy Heading</h5> <p class="grey-text text-lighten-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque, ex minima aliquam, eveniet, ea rerum cupiditate fugit et sequi, officia amet! Neque nihil modi recusandae adipisci est minus, sit reiciendis!</p> </div> <div class="col l4 s12"> <h5 class="white-text">Join the Discussion</h5> <p class="grey-text text-lighten-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto cumque sapiente voluptatibus adipisci id. Delectus ipsam illum asperiores aspernatur non doloremque quo est ullam, illo architecto, excepturi ut fugit minima.</p> <a class="btn waves-effect waves-light red lighten-3" target="_blank" href="https://gitter.im/Dogfalo/materialize">Chat</a> </div> <div class="col l4 s12" style="overflow: hidden;"> <h5 class="white-text">Connect</h5> <iframe src="http://ghbtns.com/github-btn.html?user=dogfalo&repo=materialize&type=watch&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="170" height="30"></iframe> <br> <a href="https://twitter.com/MaterializeCSS" class="twitter-follow-button" data-show-count="true" data-size="large" data-dnt="true">Follow @MaterializeCSS</a> <br> <div class="g-follow" data-annotation="bubble" data-height="24" data-href="https://plus.google.com/108619793845925798422" data-rel="publisher"></div> </div> </div> </div> <div class="footer-copyright"> <div class="container"> © 2014-2016 Riot-Man, No rights reserved. (Power by Materialize) <a class="grey-text text-lighten-4 right" href="https://github.com/saurshaz/riot-fullstack-starter-kit">Github Repo</a> </div> </div> </footer>\', \'\', \'\', function (opts) {\n		var self = this;\n\n		self.on(\'mount\', function () {\n\n				self.update();\n		});\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/footertag.html\n ** module id = 18\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/footertag.html?')},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _stateManagerEvent_constants = __webpack_require__(12);\n\nvar _stateManagerEvent_constants2 = _interopRequireDefault(_stateManagerEvent_constants);\n\n_riot2[\'default\'].html2(\'script\', \'\', \'\', \'src="https://code.jquery.com/jquery-2.1.4.min.js"\', function (opts) {});\n_riot2[\'default\'].html2(\'script\', \'\', \'\', \'src="http://materializecss.com/bin/materialize.js"\', function (opts) {});\n_riot2[\'default\'].html2(\'fstag\', \'<link href="http://materializecss.com/css/prism.css" rel="stylesheet"> <link href="http://materializecss.com/css/ghpages-materialize.css" type="text/css" rel="stylesheet" media="screen,projection"> <link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css"> <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <section> <div if="{is_ready}"> <div class="card small" style="overflow: hidden;"> <div class="card-image waves-effect waves-block waves-light"> <img class="activator" src="http://materializecss.com/images/office.jpg"> </div> <div class="card-content small"> <span class="card-title activator grey-text text-darken-4">Select App<i class="material-icons right">more_vert</i></span> <p><a href="#!">Select App</a></p> </div> <div class="card-reveal small" style="display: none; transform: translateY(0px);"> <span class="card-title grey-text text-darken-4">Select App<i class="material-icons right">close</i></span> <p>Please select one of your existing Apps to work on</p> <a href="#" class="waves-effect waves-light btn modal-trigger">Modal</a> <div id="modal1" class="modal bottom-sheet"> <div class="modal-content"> <h4>Modal Header</h4> <p>A bunch of text</p> </div> <div class="modal-footer"> <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a> </div> </div> </div> <div class="card-action"> <a href="#!">Create new App</a> <a href="#!">Clone App</a> </div> </div> </div> <div if="{!is_ready}"> <div class="progress"> <div class="pagebody indeterminate"></div> </div> </div> </section>\', \'.pagebody { margin:20%; height: 500px; top: 200px; padding-top: 20px; };\', \'\', function (opts) {\n  var self = this;\n  setTimeout(function () {\n    _riot2[\'default\'].control.trigger(_stateManagerEvent_constants2[\'default\'].INIT_CHAT_CONTAINER, { "a": "b" });\n    self.is_ready = true;\n    console.log(\'is_ready is \', self.is_ready);\n\n    Materialize.toast(\'You\\\'re in, select an app !\', 4000);\n    self.update();\n  }, 2500);\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/fstag.html\n ** module id = 19\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/fstag.html?')},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\n_riot2[\'default\'].html2(\'headertag\', \'<header class="navbar-fixed"> <ul id="dropdown1" class="dropdown-content"> <li><a href="/home#helloapp">Team</a></li> <li><a href="/home#helloapp">How it works?</a></li> <li class="divider"></li> <li><a href="/home#helloapp">Contact Us</a></li> </ul> <nav> <div class="nav-wrapper"> <div class="navbar-fixed"> <div class="nav-wrapper"> <a href="/home#home"> <img src="http://riotjs.com/img/logo/riot120x.png"> <ul class="right hide-on-med-and-down"> </ul> </a> <ul class="right hide-on-med-and-down"> <li><a href="/home#testapp?p=pane1&cid=home&a=b&c=d">Tester</a></li> <li><a href="/home#testapp">Login</a></li> <li><a class="dropdown-button" href="#!" data-activates="dropdown1">About Us<i class="material-icons right">arrow_drop_down</i></a></li> </ul> </div> </nav> </header>\', \'\', \'\', function (opts) {\n            var self = this;\n\n            self.on(\'mount\', function () {\n\n                        self.update();\n            });\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/headertag.html\n ** module id = 20\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/headertag.html?')},function(module,exports,__webpack_require__){eval("'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _stateManagerEvent_constants = __webpack_require__(12);\n\nvar _stateManagerEvent_constants2 = _interopRequireDefault(_stateManagerEvent_constants);\n\n_riot2['default'].html2('helloapp', '<section> <rg-map></rg-map> </section>', '', '', function (opts) {\n    var self = this;\n    setTimeout(function () {\n        _riot2['default'].control.trigger(_stateManagerEvent_constants2['default'].INIT_CHAT_CONTAINER, { \"a\": \"b\" });\n    }, 2500);\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/helloapp.html\n ** module id = 21\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/helloapp.html?")},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _momentjs = __webpack_require__(23);\n\nvar _momentjs2 = _interopRequireDefault(_momentjs);\n\nvar _stateManagerEvent_constants = __webpack_require__(12);\n\nvar _stateManagerEvent_constants2 = _interopRequireDefault(_stateManagerEvent_constants);\n\n_riot2[\'default\'].html2(\'home\', \'<link href="http://materializecss.com/css/prism.css" rel="stylesheet"> <link href="http://materializecss.com/css/ghpages-materialize.css" type="text/css" rel="stylesheet" media="screen,projection"> <link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css"> <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <div class="parallax-container"> <div class="parallax"><img src="http://materializecss.com/images/parallax1.jpg"></div> </div> <div class="section white"> <div class="row container"> <h2 class="header">Riot-Man</h2> <p class="grey-text text-darken-3 lighten-3">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam veniam ad optio quasi quia commodi neque animi laboriosam nesciunt possimus porro, rerum molestiae nihil minus odit. Dignissimos deleniti, non asperiores.</p> </div> <div class="row container"> <h4 class="light">Parallax Demo HTML</h4> <pre>\\n      <code class="language-markup col s12">\\n\\n      </code>\\n    </pre> </div> </div> <div class="parallax-container"> <div class="parallax"><img src="http://materializecss.com/images/parallax2.jpg"></div> </div>\', \'\', \'\', function (opts) {\n  var self = this;\n  setTimeout(function () {\n    _riot2[\'default\'].control.trigger(_stateManagerEvent_constants2[\'default\'].INIT_CHAT_CONTAINER, { "a": "b" });\n  }, 2500);\n  self.on(\'mount\', function () {\n\n    self.update();\n  });\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/home.html\n ** module id = 22\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/home.html?')},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;\'use strict\';\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function (global, factory) {\n    ( false ? \'undefined\' : _typeof(exports)) === \'object\' && typeof module !== \'undefined\' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : global.moment = factory();\n})(undefined, function () {\n    "use strict";\n\n    var FORMAT_LIST = {\n        "l": "YYYY-MM-DD",\n        "ll": "YYYY年MM月DD日",\n        "k": "YYYY-MM-DD hh:mm",\n        "kk": "YYYY年MM月DD日 hh点mm分",\n        "kkk": "YYYY年MM月DD日 hh点mm分 q",\n        "f": "YYYY-MM-DD hh:mm:ss",\n        "ff": "YYYY年MM月DD日 hh点mm分ss秒",\n        "fff": "YYYY年MM月DD日 hh点mm分ss秒 星期w",\n        "n": "MM-DD",\n        "nn": "MM月DD日"\n    };\n\n    var _SECONDS = 1000;\n    var _MINUTES = 1000 * 60;\n    var _HOURS = 1000 * 60 * 60;\n    var _DAYS = 1000 * 60 * 60 * 24;\n    var _YEARS = _DAYS * 365;\n    var MSE = new Date(1970, 0, 1, 0, 0, 0).getTime();\n\n    var WEEK = [\'日\', \'一\', \'二\', \'三\', \'四\', \'五\', \'六\'];\n    var DAY_STRING = [\'上午\', \'下午\'];\n    var _moment = function _moment() {\n        Utils.initMoment.apply(Utils, [this].concat(Array.prototype.slice.call(arguments)));\n        return this;\n    };\n\n    var Utils = {\n        initMoment: function initMoment(moment_obj, arg_1, type) {\n            var _date = new Date();\n            if (arg_1 != undefined) {\n                if (Utils.isNumber(arg_1)) {\n                    if (arg_1 < 9999999999) arg_1 = arg_1 * 1000;\n                    _date.setTime(arg_1);\n                } else if (Utils.isArray(arg_1)) {\n                    Utils.padMonth(arg_1);\n                    _date = new (Function.prototype.bind.apply(Date, [null].concat(_toConsumableArray(arg_1))))();\n                } else if (Utils.isDate(arg_1)) {\n                    _date = arg_1;\n                } else if (Utils.isString(arg_1)) {\n                    _date = Utils.parse(arg_1);\n                } else if (arg_1 instanceof _moment) {\n                    moment_obj = arg_1;\n                }\n            }\n            moment_obj._date = _date;\n        },\n        parse: function parse(str) {\n            var aspNetJsonRegex = /^(\\d{4})\\-?(\\d{2})\\-?(\\d{2})\\s?\\:?(\\d{2})?\\:?(\\d{2})?\\:?(\\d{2})?$/i;\n            var matched = aspNetJsonRegex.exec(str);\n            if (matched !== null) {\n                matched.shift();\n                Utils.padMonth(matched);\n                Utils.popUndefined(matched);\n                return new (Function.prototype.bind.apply(Date, [null].concat(_toConsumableArray(matched))))();\n            }\n            return new Date();\n        },\n        popUndefined: function popUndefined(arr) {\n            if (arr.length > 0 && arr[arr.length - 1] == undefined) {\n                arr.pop();\n                return Utils.popUndefined(arr);\n            }\n            return arr;\n        },\n        padMonth: function padMonth(arr) {\n            //自动补充月份\n            if (arr.length > 1 && arr[1] > 0) arr[1] -= 1;\n        },\n        isLeapYear: function isLeapYear(year) {\n            return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n        },\n        format: function format(date, formatStr) {\n            var str = formatStr;\n            str = str.replace(/yyyy|YYYY/, date.getFullYear());\n            str = str.replace(/yy|YY/, date.getYear() % 100 > 8 ? (date.getYear() % 100).toString() : \'0\' + date.getYear() % 100);\n            str = str.replace(/MM/, date.getMonth() > 8 ? (date.getMonth() + 1).toString() : \'0\' + (date.getMonth() + 1));\n            str = str.replace(/M/g, date.getMonth() + 1);\n            str = str.replace(/w|W/g, WEEK[date.getDay()]);\n            str = str.replace(/dd|DD/, date.getDate() > 9 ? date.getDate().toString() : \'0\' + date.getDate());\n            str = str.replace(/d|D/g, date.getDate());\n            str = str.replace(/hh|HH/, date.getHours() > 9 ? date.getHours().toString() : \'0\' + date.getHours());\n            str = str.replace(/h|H/g, date.getHours());\n            str = str.replace(/mm/, date.getMinutes() > 9 ? date.getMinutes().toString() : \'0\' + date.getMinutes());\n            str = str.replace(/m/g, date.getMinutes());\n            str = str.replace(/ss|SS/, date.getSeconds() > 9 ? date.getSeconds().toString() : \'0\' + date.getSeconds());\n            str = str.replace(/s|S/g, date.getSeconds());\n            str = str.replace(/q|Q/g, date.getHours() > 12 ? DAY_STRING[1] : DAY_STRING[0]);\n            return str;\n        },\n        timestamp: function timestamp(date) {\n            return Math.floor(date.getTime() / 1000);\n        },\n        getDays: function getDays(date) {\n            return Math.floor((date.getTime() - MSE) / _DAYS);\n        },\n        getHours: function getHours(date) {\n            return Math.floor((date.getTime() - MSE) / _HOURS);\n        },\n        getMonths: function getMonths(date) {\n            return date.getYear() * 12 + date.getMonth() + 1;\n        },\n        isObject: function isObject(input) {\n            return Object.prototype.toString.call(input) === \'[object Object]\';\n        },\n        isArray: function isArray(input) {\n            return input instanceof Array || Object.prototype.toString.call(input) === \'[object Array]\';\n        },\n        isDate: function isDate(input) {\n            return input instanceof Date || Object.prototype.toString.call(input) === \'[object Date]\';\n        },\n        isNumber: function isNumber(input) {\n            return input instanceof Number || Object.prototype.toString.call(input) === \'[object Number]\';\n        },\n        isString: function isString(input) {\n            return input instanceof String || Object.prototype.toString.call(input) === \'[object String]\';\n        },\n        extend: function extend(a, b) {\n            for (var i in b) {\n                if (hasOwnProp(b, i)) {\n                    a[i] = b[i];\n                }\n            }\n\n            if (hasOwnProp(b, \'toString\')) {\n                a.toString = b.toString;\n            }\n\n            if (hasOwnProp(b, \'valueOf\')) {\n                a.valueOf = b.valueOf;\n            }\n\n            return a;\n        },\n        makeGetSet: function makeGetSet(unit) {\n            return function (value) {\n                if (value != undefined) {\n                    // if(unit=="Month")value = value>0?(value-1):0;\n                    Date.prototype["set" + unit].call(this._date, value);\n                    return this;\n                } else {\n                    return Date.prototype["get" + unit].call(this._date);\n                    // return unit=="Month"?(result+1):result;\n                }\n            };\n        }\n    };\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    _moment.prototype = {\n        format: function format(str) {\n            var m = this;\n            str = str || "l";\n            var formatStr = FORMAT_LIST[str] || str;\n            return Utils.format(m._date, formatStr);\n        },\n        toString: function toString() {\n            return this._date.toString();\n        },\n        distance: function distance(_m, type) {\n            var m = this;\n            type = type || moment.DAY;\n            _m = moment(_m);\n            switch (type) {\n                case moment.HOUR:\n                    return Utils.getHours(m._date) - Utils.getHours(_m._date);\n                case moment.DAY:\n                    return Utils.getDays(m._date) - Utils.getDays(_m._date);\n                case moment.MONTH:\n                    return Utils.getMonths(m._date) - Utils.getMonths(_m._date);\n                case moment.YEAR:\n                    return m._date.getYear() - _m._date.getYear();\n            }\n            return 0;\n        },\n        isLeapYear: function isLeapYear() {\n            return Utils.isLeapYear(this.year());\n        },\n        isThisYear: function isThisYear() {\n            return Utils.timestamp(this._date);\n        },\n        isBefore: function isBefore() {\n            return Utils.timestamp(this._date);\n        },\n        isAfter: function isAfter() {\n            return Utils.timestamp(this._date);\n        },\n        month: function month(num) {\n            var m = this;\n            if (num == undefined) {\n                return m._date.getMonth() + 1;\n            }\n            num = parseInt(num);\n            num = m._date.setMonth(num - 1);\n            return m;\n        },\n        add: function add(num, type) {\n            var m = this;\n            num = parseInt(num);\n            type = type || moment.DAY;\n\n            switch (type) {\n                case moment.DAY:\n                    m.time(m.time() + num * _DAYS);\n                    break;\n                case moment.MONTH:\n                    var month_add = m.month() + num;\n                    var year_add = Math.floor(month_add / 12);\n                    month_add = month_add % 12;\n                    m.add(year_add, moment.YEAR);\n                    m.month(month_add);\n                    break;\n                case moment.YEAR:\n                    m.year(m.year() + num);\n                    break;\n                case moment.HOUR:\n                    m.time(m.time() + num * _HOURS);\n                    break;\n                case moment.MINUTE:\n                    m.time(m.time() + num * _MINUTES);\n                    break;\n                case moment.SECOND:\n                    m.time(m.time() + num * _SECONDS);\n                    break;\n            }\n            return m;\n        },\n        endOf: function endOf(type) {\n            var m = this;\n            type = type || moment.DAY;\n            m.startOf(type);\n            m.add(1, type);\n            if (moment.DAY == type) {\n                m.add(-1, moment.SECOND);\n            } else {\n                m.add(-1, moment.DAY);\n            }\n            return m;\n        },\n        startOf: function startOf(type) {\n            var m = this;\n            type = type || moment.DAY;\n            switch (type) {\n                case moment.DAY:\n                    m.time(Math.floor(m.time() / _DAYS) * _DAYS + MSE);\n                    break;\n                case moment.MONTH:\n                    m.date(1);\n                    m.startOf(moment.DAY);\n                    break;\n                case moment.YEAR:\n                    m.month(0);\n                    m.date(1);\n                    m.startOf(moment.DAY);\n                    break;\n                case moment.HOUR:\n                    m.time(Math.floor(m.time() / _HOURS) * _HOURS + MSE);\n                    break;\n            }\n            return m;\n        }\n    };\n\n    var momentPrototype__proto = _moment.prototype;\n\n    var methods = {\n        "year": "FullYear",\n        "day": "Day",\n        "date": "Date",\n        "hours": "Hours",\n        "milliseconds": "Milliseconds",\n        "seconds": "Seconds",\n        "minutes": "Minutes",\n        "time": "Time"\n    };\n\n    for (var unit in methods) {\n        momentPrototype__proto[unit] = Utils.makeGetSet(methods[unit]);\n    }\n\n    var moment = function moment(param) {\n        if (Utils.isObject(param)) {\n            //config\n            if (param.formatString && Utils.isObject(param.formatString)) {\n                Utils.extend(FORMAT_LIST, param.formatString);\n            }\n        } else {\n            return new _moment(param);\n        }\n    };\n\n    moment.prototype.config = function (param) {\n        if (param.formatString && Utils.isObject(param.formatString)) {\n            Utils.extend(FORMAT_LIST, param.formatString);\n        }\n    };\n\n    moment.SECOND = 2;\n    moment.MINUTE = 3;\n    moment.HOUR = 4;\n    moment.DAY = 5;\n    moment.MONTH = 6;\n    moment.YEAR = 7;\n    return moment;\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/momentjs/build/moment.js\n ** module id = 23\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///../~/momentjs/build/moment.js?')},function(module,exports,__webpack_require__){eval("'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\n_riot2['default'].html2('riot-app-help', '<h2>Help</h2> <p>{helptext}</p>', 'riot-app-help,[riot-tag=\"riot-app-help\"],[data-is=\"riot-app-help\"]{ position: fixed; top: auto; right: 0; bottom: 0; left: 0; width: 100%; height: 130px; box-sizing: border-box; font-family: sans-serif; margin: 0; padding: 1em; text-align: center; color: #666; background: #f7f7f7; } @media (min-width: 480px) { riot-app-help,[riot-tag=\"riot-app-help\"],[data-is=\"riot-app-help\"]{ top: 0; right: 0; bottom: auto; left: auto; width: 200px; height: 100%; } }', '', function (opts) {\n  var self = this;\n  self.data = {\n    first: \"This is the help for the first page.\",\n    second: \"This is the help for the second page.\"\n  };\n\n  var r = _riot2['default'].route.create();\n  r('*', function (id) {\n    self.helptext = self.data[id] || 'Help not found.';\n    self.update();\n  });\n  r(function () {\n    self.helptext = \"Click the navigation on the left edge.\";\n    self.update();\n  });\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/riot-app-help.html\n ** module id = 24\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/riot-app-help.html?")},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\n_riot2[\'default\'].html2(\'riot-app-main\', \'<article> <h1>{title}</h1> <p>{body}</p> <tabs-with-content-example></tabs-with-content-example> <ul if="{isFirst}"> <li each="{data}"><a href="#/first/{id}">{title}</a></li> </ul> </article>\', \'riot-app-main,[riot-tag="riot-app-main"],[data-is="riot-app-main"]{ display: block; font-family: sans-serif; margin-right: 0; margin-bottom: 130px; margin-left: 50px; padding: 1em; text-align: center; color: #666; } riot-app-main ul,[riot-tag="riot-app-main"] ul,[data-is="riot-app-main"] ul{ padding: 10px; list-style: none; } riot-app-main li,[riot-tag="riot-app-main"] li,[data-is="riot-app-main"] li{ display: inline-block; margin: 5px; } riot-app-main a,[riot-tag="riot-app-main"] a,[data-is="riot-app-main"] a{ display: block; background: #f7f7f7; text-decoration: none; width: 150px; height: 150px; line-height: 150px; color: inherit; } riot-app-main a:hover,[riot-tag="riot-app-main"] a:hover,[data-is="riot-app-main"] a:hover{ background: #eee; color: #000; } @media (min-width: 480px) { riot-app-main,[riot-tag="riot-app-main"],[data-is="riot-app-main"]{ margin-right: 200px; margin-bottom: 0; } }\', \'\', function (opts) {\n  var self = this;\n  self.title = \'Now it\\\'s loading...\';\n  self.body = \'\';\n  self.data = [{ id: \'apple\', title: \'Apple\', body: "The world biggest fruit company." }, { id: \'orange\', title: \'Orange\', body: "I don\'t have the word for it..." }];\n\n  var r = _riot2[\'default\'].route.create();\n  r(\'/#\', home);\n  r(\'/#first\', first);\n  r(\'/#first/*\', firstDetail);\n  r(\'/#second\', second);\n  r(home);\n\n  function home() {\n    self.update({\n      title: "Home of the great app",\n      body: "The Timeline or dashboard as you like!",\n      isFirst: false\n    });\n  }\n  function first() {\n    self.update({\n      title: "First feature of your app",\n      body: "It could be a list of something for example.",\n      isFirst: true\n    });\n  }\n  function firstDetail(id) {\n    var selected = self.data.filter(function (d) {\n      return d.id == id;\n    })[0] || {};\n    self.update({\n      title: selected.title,\n      body: selected.body,\n      isFirst: false\n    });\n  }\n  function second() {\n    self.update({\n      title: "Second feature of your app",\n      body: "It could be a config page for example.",\n      isFirst: false\n    });\n  }\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/riot-app-main.html\n ** module id = 25\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/riot-app-main.html?')},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\n_riot2[\'default\'].html2(\'riot-app-navi\', \'<a href="/">R</a> <a href="/#chatapp">C</a> <a href="/#helloapp">H</a>\', \'riot-app-navi,[riot-tag="riot-app-navi"],[data-is="riot-app-navi"]{ position: fixed; top: 0; left: 0; height: 100%; box-sizing: border-box; font-family: sans-serif; text-align: center; color: #666; background: #333; width: 50px; transition: width .2s; } riot-app-navi:hover,[riot-tag="riot-app-navi"]:hover,[data-is="riot-app-navi"]:hover{ width: 60px; } riot-app-navi a,[riot-tag="riot-app-navi"] a,[data-is="riot-app-navi"] a{ display: block; box-sizing: border-box; width: 100%; height: 50px; line-height: 50px; padding: 0 .8em; color: white; text-decoration: none; background: #444; } riot-app-navi a:hover,[riot-tag="riot-app-navi"] a:hover,[data-is="riot-app-navi"] a:hover{ background: #666; }\', \'\', function (opts) {});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/riot-app-navi.html\n ** module id = 26\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/riot-app-navi.html?')},function(module,exports,__webpack_require__){eval("'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\n__webpack_require__(25);\n\n__webpack_require__(26);\n\n__webpack_require__(24);\n\n_riot2['default'].html2('riot-app-test', '<riot-app-main></riot-app-main> <riot-app-navi></riot-app-navi> <riot-app-help></riot-app-help>', 'body { margin: 0 }', '', function (opts) {});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/riot-app-test.html\n ** module id = 27\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/riot-app-test.html?")},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _riot = __webpack_require__(7);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _stateManagerEvent_constants = __webpack_require__(12);\n\nvar _stateManagerEvent_constants2 = _interopRequireDefault(_stateManagerEvent_constants);\n\n_riot2[\'default\'].html2(\'script\', \'\', \'\', \'src="https://code.jquery.com/jquery-2.1.4.min.js"\', function (opts) {});\n_riot2[\'default\'].html2(\'script\', \'\', \'\', \'src="http://materializecss.com/bin/materialize.js"\', function (opts) {});\n_riot2[\'default\'].html2(\'testapp\', \'<link href="http://materializecss.com/css/prism.css" rel="stylesheet"> <link href="http://materializecss.com/css/ghpages-materialize.css" type="text/css" rel="stylesheet" media="screen,projection"> <link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css"> <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <section> <div class="section white" id="container-app" style="margin: 0;padding: 0;padding-bottom: 20;"> <div class="" data-reactid=".0"> <div class="row" style="padding-bottom:1%;height:500px" data-reactid=".0.0"> <div id="pane1" class="col m4 s12" style="position:fixed;height:100% ;overflow-x:hidden;overflow-y:scroll;border-right:1px solid;;padding:0;"> <p>Pane 1</p> </div> <div id="pane2" class="col m5 s12" style="position:relative;margin-left:32.5%;"> <p>Pane 2</p> </div> <div id="pane3" class="col m3 s12" id="membersListApp" style="position:fixed;margin-left:73%;overflow-y:scroll;"> <p>Pane 3</p> </div> </div> </div> </div> </section>\', \'\', \'\', function (opts) {\n  var self = this;\n  setTimeout(function () {\n    _riot2[\'default\'].control.trigger(_stateManagerEvent_constants2[\'default\'].INIT_CHAT_CONTAINER, { "a": "b" });\n  }, 2500);\n\n  self.on(\'mount\', function () {\n\n    if (location.pathname === "/home" && location.hash.startsWith("#testapp") && location.hash.search(\'cid=\') !== -1 && location.hash.search(\'p=\') !== -1) {\n      var hashQsArr = location.hash.split("?");\n      if (hashQsArr.length > 0) {\n        var hashParams = hashQsArr[1];\n\n        var hashParamsKeyValArr = hashParams.split(\'&\');\n        var isCid = undefined,\n            isPane = false;\n        var neededDataObject = {};\n        var extraDataObject = {};\n\n        for (var i = 0; i < hashParamsKeyValArr.length; i++) {\n          var keyValSplitArr = hashParamsKeyValArr[i].split(\'=\');\n          var key = keyValSplitArr[0];\n          var val = keyValSplitArr[1];\n\n          switch (key) {\n            case \'cid\':\n              neededDataObject[key] = val;\n              break;\n            case \'p\':\n              neededDataObject[key] = val;\n              break;\n            default:\n              extraDataObject[key] = val;\n          }\n        }\n\n        if (neededDataObject.cid && neededDataObject.p) {\n\n          var mytag = __webpack_require__(29)("./" + neededDataObject.cid + \'.html\');\n          var tags = _riot2[\'default\'].mount(\'#\' + neededDataObject.p, neededDataObject.cid);\n        } else {\n          console.log(\'missing data, do nothing\');\n        }\n      }\n    } else {\n      console.log(\'missing data, do nothing\');\n    }\n  });\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home/testapp.html\n ** module id = 28\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home/testapp.html?');
},function(module,exports,__webpack_require__){eval('var map = {\n	"./appbrowser.html": 17,\n	"./footertag.html": 18,\n	"./fstag.html": 19,\n	"./headertag.html": 20,\n	"./helloapp.html": 21,\n	"./home.html": 22,\n	"./riot-app-help.html": 24,\n	"./riot-app-main.html": 25,\n	"./riot-app-navi.html": 26,\n	"./riot-app-test.html": 27,\n	"./testapp.html": 28\n};\nfunction webpackContext(req) {\n	return __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n	return map[req] || (function() { throw new Error("Cannot find module \'" + req + "\'.") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n	return Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 29;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/home ^\\.\\/.*\\.html$\n ** module id = 29\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views/home_^\\.\\/.*\\.html$?')},function(module,exports,__webpack_require__){eval('var map = {\n	"./home/headertag.html": 20\n};\nfunction webpackContext(req) {\n	return __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n	return map[req] || (function() { throw new Error("Cannot find module \'" + req + "\'.") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n	return Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 30;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views ^\\.\\/.*\\/headertag\\.html$\n ** module id = 30\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views_^\\.\\/.*\\/headertag\\.html$?')},function(module,exports,__webpack_require__){eval('var map = {\n	"./home/footertag.html": 18\n};\nfunction webpackContext(req) {\n	return __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n	return map[req] || (function() { throw new Error("Cannot find module \'" + req + "\'.") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n	return Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 31;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views ^\\.\\/.*\\/footertag\\.html$\n ** module id = 31\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./views_^\\.\\/.*\\/footertag\\.html$?')}]);